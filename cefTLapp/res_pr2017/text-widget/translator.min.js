var uiResources={en:{sourceSystem:"From:",targetSystem:"To:",systemSelect:"System",swapLanguage:"Reverse",translateButton:"Translate",systemDomain:"Domain",systemLoadError:"Error while loading systems",en:"English",lv:"Latvian",lt:"Lithuanian",fr:"French",ru:"Russian",et:"Estonian",ar:"Arabic"},fr:{sourceSystem:"From:",targetSystem:"To:",systemSelect:"System",swapLanguage:"Reverse",translateButton:"Traduire",systemDomain:"Domain",systemLoadError:"Error while loading systems"},lt:{sourceSystem:"Iš:",targetSystem:"Į:",systemSelect:"System",swapLanguage:"Pakeisti",translateButton:"Versti",systemDomain:"Domain",systemLoadError:"Įkeliant sistemas įvyko klaida",en:"Anglų",lv:"Latvių",lt:"Lietuvių",ru:"Rusų",et:"Estų",ar:"Arabų"},lv:{sourceSystem:"No:",targetSystem:"Uz:",systemSelect:"System",swapLanguage:"Apgriezt",translateButton:"Tulkot",systemDomain:"Domēns",systemLoadError:"Neizdevās ielādēt tulkošanas sistēmas",en:"Angļu",lv:"Latviešu",lt:"Lietuviešu",fr:"Franču",ru:"Krievu",et:"Igauņu",ar:"Arābu"},ru:{sourceSystem:"Направление перевода",targetSystem:"На",systemSelect:"System",swapLanguage:"Перевернуть",translateButton:"Перевести",systemDomain:"Тематическая область",systemLoadError:"Error while loading systems",en:"Английский",lv:"Латышский",lt:"Литовский",fr:"Французский",ru:"Русский"},et:{sourceSystem:"Lähtekeel:",targetSystem:"Sihtkeel:",systemSelect:"",swapLanguage:"Vastupidi",translateButton:"Tõlgi",systemDomain:"Domain",systemLoadError:"Süsteemide laadimise tõrge",en:"Inglise",lv:"Läti",lt:"Leedu",et:"Eesti",ru:"Vene",ar:"Araabia"}},qq;typeof Tilde=="undefined"&&(Tilde={});Tilde.TranslatorWidgetDefaultOptions={_systemListUrl:"https://letsmt.eu/ws/Service.svc/json/GetSystemList",_apiIsInTheSameDomain:!1,_jsonType:"json",_appId:"unknown",_clientId:"u-bfcaf986-8147-4901-a131-f0d618a7354b",_systems:null,_allowedSystemStatuses:"running",_templateId:null,_replaceContainer:!1,_translations:{},_language:"en",_useFancySelect:!0,_systemSelectType:"language",_replaceSourceWithBlock:!1,_defaultSourceLang:null,_defaultTargetLang:null,_defaultDomain:null,_defaultSystem:null,_customSelectText:"",_swapLanguages:!0,_getFilteredSystems:!1,_onGetSystemListError:null,_onSystemsLoaded:null,_onSystemChanged:null,_onWidgetLoaded:null,_onWidgetTemplateLoaded:null,_loginUrl:null,_sourceLanguageOrder:null,_targetLanguageOrder:null};Tilde.TranslatorWidget=function(n,t){if($(n).length!==0){var i=$.extend(Tilde.TranslatorWidgetDefaultOptions,t,{container:$(n)});this.initWidget(i)}};Tilde.TranslatorWidget.prototype={$widget:null,activeSystemId:null,settings:null,reverseSystems:[{}],fancySource:null,fancyTarget:null,fancyDomain:null,onSystemChangedHandlers:[],pluginInitializers:[],onSystemListLoadedHandlers:[],onWidgetLoadedCalled:!1,initWidget:function(n){$widget=this;$widget.settings=n;$widget.onSystemListLoadedHandlers.push($widget.systemLoadComplete);$widget.initWidgetTemplate();$widget.initPlugins();$widget.initWidgetLanguage();$widget.settings._onSystemsLoaded&&typeof $widget.settings._onSystemsLoaded=="function"&&$widget.onSystemListLoadedHandlers.push($widget.settings._onSystemsLoaded);$widget.settings._onWidgetLoaded&&typeof $widget.settings._onWidgetLoaded=="function"&&$widget.onSystemListLoadedHandlers.push(function(n){$widget.onWidgetLoadedCalled||($widget.onWidgetLoadedCalled=!0,$widget.settings._onWidgetLoaded(n))});$widget.retrieveSystemData()},pluginsInitialized:!1,initPlugins:function(){$widget.pluginInitializers&&!$widget.pluginsInitialized&&($widget.pluginsInitialized=!0,$.each($widget.pluginInitializers,function(n,t){t()}))},getAuthHeaders:function(){var n={},t;return $widget.settings._clientId!==null&&(n={"client-id":$widget.settings._clientId}),$widget.settings._apiIsInTheSameDomain||(t=$widget.readCookie("smts"),t&&(n["website-auth-cookie"]=t)),n},retrieveSystemData:function(){if($widget.settings._predefinedSystems){$.each($widget.onSystemListLoadedHandlers,function(n,t){t($widget.settings._systems)});return}var n={appID:$widget.settings._appId,uiLanguageID:$widget.settings._language};$widget.settings._getFilteredSystems&&(n.options="filter");$widget.readCookie("show-public-systems")&&(n.options?n.options+=",public":n.options="public");$.ajax({dataType:$widget.settings._json_type,type:"GET",url:$widget.settings._systemListUrl,headers:$widget.getAuthHeaders(),data:n,success:function(n){if($(".systemsLoading").addClass("hide"),$(".translateContainerHeader").removeClass("hide"),$widget.settings._systems=[],$.each(n.System,function(n,t){var i=$widget.getSystemMetaValue(t.Metadata,"status");$widget.settings._allowedSystemStatuses.indexOf(i)!==-1&&$widget.settings._systems.push(t)}),!$widget.settings._systems.length&&!$widget.readCookie("show-public-systems")&&!$widget.readCookie("show-private-systems")){document.cookie="show-public-systems=true";$widget.retrieveSystemData();return}$.each($widget.onSystemListLoadedHandlers,function(n,t){t($widget.settings._systems)})},error:function(){$widget.settings._onGetSystemListError&&typeof $widget.settings._onGetSystemListError=="function"&&$widget.settings._onGetSystemListError();$(".systemsLoading").addClass("hide");$(".translateContainerHeader").removeClass("hide");$widget.settings.container.text(uiResources[$widget.settings._language].systemLoadError).addClass("noNetwork")}})},getSystemMetaValue:function(n,t){if(n===undefined)return!1;var i=null;return $.each(n,function(n,r){if(r.Key===t)return i=r.Value,!1}),i},setSystemMetaValue:function(n,t,i){var r=null;return($.each($widget.settings._systems,function(t,i){i.ID===n&&(r=i)}),r===null||r.Metadata===undefined)?!1:($.each(r.Metadata,function(n,r){if(r.Key===t)return r.Value=i,!0}),!1)},systemLoadComplete:function(){if($widget.settings._systemSelectType==="system"&&($.each($widget.settings._systems,function(n,t){t.order=$widget.getSystemMetaValue(t.Metadata,"order")}),$widget.settings._systems.sort(function(n,t){if(typeof n.order=="undefined"||n.order===null||isNaN(parseInt(n.order,10))){if(typeof t.order=="undefined"||t.order===null||isNaN(parseInt(t.order,10))){var i=3,r=3,u=$widget.getSystemMetaValue(n.Metadata,"status"),f=$widget.getSystemMetaValue(t.Metadata,"status");return u==="running"||u==="queuingtransl"?i=1:u==="standby"&&(i=2),f==="running"||f==="queuingtransl"?r=1:f==="standby"&&(r=2),i===r?n.Title.Text.toLowerCase()>t.Title.Text.toLowerCase()?1:-1:i>r?1:-1}return 1}return typeof t.order=="undefined"||t.order===null||isNaN(parseInt(t.order,10))?-1:parseInt(n.order,10)>parseInt(t.order,10)?1:-1}),$widget.fancySystem=$(".translateSystem",$widget.settings.container),$widget.fancySystem.empty(),$.each($widget.settings._systems,function(n,t){$widget.fancySystem.append($("<option/>",{value:t.ID,text:t.Title.Text}))}),$widget.settings._defaultSystem!==null?$(".translateSystem",$widget.settings.container).val($widget.settings._defaultSystem):$widget.settings._systems.length>0&&$(".translateSystem",$widget.settings.container).val($widget.settings._systems[0].ID),$widget.fancySystem.parent().hasClass("fancy-select")||$widget.fancySystem.fancySelect({useNativeSelect:!$widget.settings._useFancySelect,includeBlank:!0,triggerTemplate:function(n){return $widget.activeSystemId!==n.val()&&($widget.activeSystemId=n.val(),$widget.settings._onSystemChanged&&typeof $widget.settings._onSystemChanged=="function"&&$widget.settings._onSystemChanged($widget.activeSystemId),$widget.onSystemChangedHandlers&&$.each($widget.onSystemChangedHandlers,function(n,t){t($widget.activeSystemId)})),n.val()?n.text():"-"}})),$widget.settings._systemSelectType==="language"||$widget.settings._systemSelectType==="domain"){if(($widget.settings._sourceLanguageOrder||$widget.settings._targetLanguageOrder)&&($.each($widget.settings._systems,function(n,t){var i=-1,r=-1;if($widget.settings._sourceLanguageOrder)for(langIndex=0;langIndex<$widget.settings._sourceLanguageOrder.length;langIndex++)$widget.settings._sourceLanguageOrder[langIndex]==t.SourceLanguage.Code&&(i=langIndex);if($widget.settings._targetLanguageOrder)for(langIndex=0;langIndex<$widget.settings._targetLanguageOrder.length;langIndex++)$widget.settings._targetLanguageOrder[langIndex]==t.TargetLanguage.Code&&(r=langIndex);t.order=0;i>-1&&(t.order=t.order+i*100);r>-1&&(t.order=t.order+r)}),$widget.settings._systems.sort(function(n,t){return typeof t.order!="undefined"&&t.order!==null?n.order>t.order?1:-1:-1})),$widget.settings._defaultSystem&&$.each($widget.settings._systems,function(n,t){t.ID===$widget.settings._defaultSystem&&($widget.settings._defaultSourceLang=t.SourceLanguage.Code,$widget.settings._defaultTargetLang=t.TargetLanguage.Code)}),$widget.settings._systems&&$.each($widget.settings._systems,function(n,t){$('.translateSourceLang option[value="'+t.SourceLanguage.Code+'"]',$widget.settings.container).length==0&&$(".translateSourceLang",$widget.settings.container).append($("<option>",{value:t.SourceLanguage.Code,text:uiResources[$widget.settings._language][t.SourceLanguage.Code]?uiResources[$widget.settings._language][t.SourceLanguage.Code]:t.SourceLanguage.Name.Text}))}),$(".translateSourceLang option",$widget.settings.container).length===1&&$widget.settings._replaceSourceWithBlock){var n=$(".translateSourceLang",$widget.settings.container),t=n.val(),i=n.text();n.replaceWith('<div class="translateSingleSourceLang" data-value="'+t+'">'+i+"<\/div>");$widget.loadTargetLangList(t,null,$widget.settings._systemSelectType==="language")}else $widget.settings._defaultSourceLang!==null&&$('.translateSourceLang option[value="'+$widget.settings._defaultSourceLang+'"]',$widget.settings.container).attr("selected",!0),$widget.fancySource=$(".translateSourceLang",$widget.settings.container),$widget.fancySource.fancySelect({useNativeSelect:!$widget.settings._useFancySelect,triggerTemplate:function(n){var t=$widget.fancyTarget,i=t&&t.length?t[0].options&&t[0].options.length?t[0].options[t[0].selectedIndex].lang:null:$widget.settings._defaultTargetLang;return $widget.loadTargetLangList(n.val(),i,$widget.settings._systemSelectType==="language"),$widget.settings._customSelectText!=""?$widget.settings._customSelectText:n.text()}});if($widget.settings._swapLanguages){$(".swapLanguage",$widget.settings.container).off("click");$(".swapLanguage",$widget.settings.container).on("click",function(){$widget.swapSystemLanguages()});$("#webSwapLanguage").off("click");$("#webSwapLanguage").on("click",function(){$widget.swapSystemLanguages()})}}$widget.settings._systemSelectType==="language"&&($widget.fancyTarget=$(".translateTargetLang",$widget.settings.container),$widget.fancyTarget.fancySelect({useNativeSelect:!$widget.settings._useFancySelect,triggerTemplate:function(n){return $widget.activeSystemId!==n.val()&&($widget.activeSystemId=n.val(),$widget.settings._swapLanguages&&($widget.checkReverseSystem()?$(".swapLanguage",$widget.settings.container).removeClass("hide"):$(".swapLanguage",$widget.settings.container).addClass("hide")),$widget.settings._onSystemChanged&&typeof $widget.settings._onSystemChanged=="function"&&$widget.settings._onSystemChanged($widget.activeSystemId),$widget.onSystemChangedHandlers&&$.each($widget.onSystemChangedHandlers,function(n,t){t($widget.activeSystemId)})),$widget.settings._customSelectText!=""?$widget.settings._customSelectText:n.text()}}));$widget.settings._systemSelectType==="domain"&&($(".translateDomainContainer",$widget.settings.container).removeClass("hide"),$widget.settings._defaultTargetLang!==null&&$('.translateTargetLang option[lang="'+$widget.settings._defaultTargetLang+'"]',$widget.settings.container).val($widget.settings._defaultTargetLang),$widget.fancyTarget=$(".translateTargetLang",$widget.settings.container),$widget.fancyTarget.fancySelect({useNativeSelect:!$widget.settings._useFancySelect,triggerTemplate:function(n){var t=$(".translateSourceLang",$widget.settings.container).val();return $(".translateSingleSourceLang",$widget.settings.container).length!==0&&(t=$(".translateSingleSourceLang",$widget.settings.container).attr("data-value")),$widget.loadDomainList(t,n.val()),n.text()}}),$widget.settings._defaultDomain!==null&&$('.translateDomain option[domain="'+$widget.settings._defaultDomain+'"]',$widget.settings.container).prop("selected",!0),$widget.fancyDomain=$(".translateDomain",$widget.settings.container),$widget.fancyDomain.fancySelect({useNativeSelect:!$widget.settings._useFancySelect,triggerTemplate:function(n){return $widget.activeSystemId!==n.val()&&typeof n.val()!="undefined"&&($widget.activeSystemId=n.val(),$widget.settings._onSystemChanged&&typeof $widget.settings._onSystemChanged=="function"&&$widget.settings._onSystemChanged($widget.activeSystemId),$widget.onSystemChangedHandlers&&$.each($widget.onSystemChangedHandlers,function(n,t){t($widget.activeSystemId)})),n.text()}}))},onWidgetActivated:function(){$(document).trigger("resize")},initWidgetTemplate:function(){if($widget.onWidgetActivated(),$widget.settings._templateId!==null||$widget.settings._templateId!=="")if($widget.settings._replaceContainer){var n=$("#"+$widget.settings._templateId).html(),t=$widget.settings.container;$(n).insertBefore($widget.settings.container);$widget.settings.container=$widget.settings.container.parent();t.remove()}else $widget.settings.container.html($("#"+$widget.settings._templateId).html());$widget.settings._onWidgetTemplateLoaded&&typeof $widget.settings._onWidgetTemplateLoaded=="function"&&$widget.settings._onWidgetTemplateLoaded()},initWidgetLanguage:function(){var n=this;uiResources[$widget.settings._language]=$.extend(uiResources[$widget.settings._language],$widget.settings._translations[$widget.settings._language]);$.each(uiResources[$widget.settings._language],function(n,t){$('[data-text="'+n+'"]',$widget.settings.container).text(t);$('[data-html="'+n+'"]',$widget.settings.container).html(t);$('[data-title="'+n+'"]',$widget.settings.container).attr("title",t)})},setActiveSystem:function(n){if(n!==$widget.activeSystemId){var t="",i="";$widget.settings._systems!=null&&$.each($widget.settings._systems,function(r,u){if(u.ID===n)return t=u.SourceLanguage.Code,i=u.TargetLanguage.Code,!1});$widget.settings._systemSelectType==="language"||$widget.settings._systemSelectType==="domain"?($('.translateSourceLang option[selected="selected"]',$widget.settings.container).removeAttr("selected"),$('.translateSourceLang option[value="'+t+'"]',$widget.settings.container).prop("selected",!0),$widget.settings._systemSelectType==="language"?$widget.loadTargetLangList(t,i,!0):$widget.settings._systemSelectType==="domain"&&$widget.loadTargetLangList(t,i,!1),$widget.fancySource!==null&&($("#source_lang_div .options li").each(function(){$(this).data("raw-value")!=t?$(this).removeClass("selected"):$(this).addClass("selected")}),$widget.fancySource.trigger("change.fs")),$(".w .translateSourceLang")!==null&&$(".web_transl_types .options li").each(function(){$(this).data("raw-value")!=t?$(this).removeClass("selected"):$(this).addClass("selected")})):($('.translateSystem option[selected="selected"]',$widget.settings.container).removeAttr("selected"),$('.translateSystem option[value="'+n+'"]',$widget.settings.container).prop("selected",!0),$(".translateSystem.fancified",$widget.settings.container)&&$(".translateSystem.fancified",$widget.settings.container).trigger("change.fs"))}},getActiveSystemObj:function(){if(!$widget.settings._systems)return null;var n=null;return $.each($widget.settings._systems,function(t,i){if(i.ID===$widget.activeSystemId)return n=i,!1}),n},checkReverseSystem:function(){if(!$widget.settings._systems)return!1;var n="",t="",i=!1;return $.each($widget.settings._systems,function(i,r){r.ID===$widget.activeSystemId&&(n=r.SourceLanguage.Code,t=r.TargetLanguage.Code)}),$.each($widget.settings._systems,function(r,u){u.SourceLanguage.Code===t&&u.TargetLanguage.Code===n&&(i=!0)}),i},swapSystemLanguages:function(){var n="",t="";$widget.activeSystemId||($widget.activeSystemId=$widget.settings._systems[0].ID);$.each($widget.settings._systems,function(i,r){if(r.ID===$widget.activeSystemId)return n=r.SourceLanguage.Code,t=r.TargetLanguage.Code,!1});$.each($widget.settings._systems,function(i,r){if(r.SourceLanguage.Code===t&&r.TargetLanguage.Code===n)return $widget.setActiveSystem(r.ID),!1})},disableSystemChange:function(){$(".swapLanguage").attr("data-disabled",!0);$widget.fancySource&&$widget.fancySource.trigger("disable");$widget.fancyTarget&&$widget.fancyTarget.trigger("disable");$widget.fancyDomain&&$widget.fancyDomain.trigger("disable");$widget.fancySystem&&$widget.fancySystem.trigger("disable");$widget.terminology&&$widget.terminology.trigger("disable")},enableSystemChange:function(){$(".swapLanguage").attr("data-disabled",!1);$widget.fancySource&&$widget.fancySource.trigger("enable");$widget.fancyTarget&&$widget.fancyTarget.trigger("enable");$widget.fancyDomain&&$widget.fancyDomain.trigger("enable");$widget.fancySystem&&$widget.fancySystem.trigger("enable");$widget.terminology&&$widget.terminology.trigger("enable")},loadTargetLangList:function(n,t,i){if($(".translateTargetLang",$widget.settings.container).empty(),$widget.settings._systems&&$.each($widget.settings._systems,function(t,r){r.SourceLanguage.Code===n&&(i?$('.translateTargetLang option[lang="'+r.TargetLanguage.Code+'"]',$widget.settings.container).length===0&&$(".translateTargetLang",$widget.settings.container).append($("<option>",{value:r.ID,text:uiResources[$widget.settings._language][r.TargetLanguage.Code]?uiResources[$widget.settings._language][r.TargetLanguage.Code]:r.TargetLanguage.Name.Text,lang:r.TargetLanguage.Code})):$('.translateTargetLang option[lang="'+r.TargetLanguage.Code+'"]',$widget.settings.container).length===0&&$(".translateTargetLang",$widget.settings.container).append($("<option>",{value:r.TargetLanguage.Code,text:uiResources[$widget.settings._language][r.TargetLanguage.Code]?uiResources[$widget.settings._language][r.TargetLanguage.Code]:r.TargetLanguage.Name.Text})))}),typeof t!="undefined"&&t!==null){var r=$('.translateTargetLang option[lang="'+t+'"]',$widget.settings.container);r.length==1?$(r[0]).prop("selected",!0):$widget.settings._defaultTargetLang&&$('.translateTargetLang option[lang="'+$widget.settings._defaultTargetLang+'"]',$widget.settings.container).prop("selected",!0)}$widget.fancyTarget!==null&&$widget.fancyTarget.trigger("update.fs")},loadDomainList:function(n,t){var r=this,i="";$(".translateDomain option:selected",$widget.settings.container).length!==0&&(i=$(".translateDomain option:selected",$widget.settings.container).attr("domain"));$(".translateDomain",$widget.settings.container).empty();$.each($widget.settings._systems,function(i,r){r.SourceLanguage.Code===n&&r.TargetLanguage.Code===t&&$(".translateDomain",$widget.settings.container).append($("<option>",{value:r.ID,domain:r.Domain,text:r.Domain}))});i===""?$(".translateDomain",$widget.settings.container).val($(".translateDomain option:first",$widget.settings.container).val()):$('.translateDomain option[domain="'+i+'"]',$widget.settings.container).prop("selected",!0);$widget.fancyDomain!==null&&$widget.fancyDomain.trigger("update.fs")},readCookie:function(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null}},function(){var n;n=window.jQuery||window.Zepto||window.$;n.fn.fancySelect=function(t){var i,r=!1,u=!1;return t==null&&(t={}),i=n.extend({useNativeSelect:!1,includeBlank:!1,optionTemplate:function(n){return n.text()},triggerTemplate:function(n){return n.text()}},t),this.each(function(){var c,s,f,t,e,h,o;if(t=n(this),!t.hasClass("fancified")&&t[0].tagName==="SELECT"){t.addClass("fancified");i.useNativeSelect?t.css({display:"block",position:"absolute",top:0,left:0,opacity:0}):t.css({width:1,height:1,display:"block",position:"absolute",top:0,left:0,opacity:0});t.wrap('<div class="fancy-select">');o=t.parent();t.data("class")&&o.addClass(t.data("class"));o.append('<div class="trigger">');i.useNativeSelect||o.append('<ul class="options">');e=o.find(".trigger");f=o.find(".options");s=t.prop("disabled");s&&o.addClass("disabled");h=function(){var n;return n=i.triggerTemplate(t.find(":selected")),e.html(n)};t.on("blur.fs",function(){if(!r){if(u&&!r){u=!1;t.focus();return}if(e.hasClass("open"))return e.trigger("close.fs")}});e.on("close.fs",function(){return r=!1,e.removeClass("open"),f.removeClass("open")});e.on("mousedown.fs",function(){r=!0});e.on("click.fs",function(){r=!1;var o,u;if(!s)if(e.toggleClass("open"),i.useNativeSelect){if(e.hasClass("open"))return t.focus()}else if(e.hasClass("open")&&(u=e.parent(),o=u.offsetParent(),u.offset().top+u.outerHeight()+f.outerHeight()+20>n(window).height()+n(window).scrollTop()?f.addClass("overflowing"):f.removeClass("overflowing")),f.toggleClass("open"),!i.useNativeSelect)return t.focus()});t.on("enable",function(){return t.prop("disabled",!1),o.removeClass("disabled"),s=!1});t.on("disable",function(){return t.prop("disabled",!0),o.addClass("disabled"),s=!0});t.on("change.fs",function(n){return i.useNativeSelect?h():n.originalEvent&&n.originalEvent.isTrusted?n.stopPropagation():h()});t.on("keydown",function(n){var i,r,t;if(t=n.which,i=f.find(".hover"),i.removeClass("hover"),f.hasClass("open")){if(t===38?(n.preventDefault(),i.length&&i.index()>0?i.prev().addClass("hover"):f.find("li:last-child").addClass("hover")):t===40?(n.preventDefault(),i.length&&i.index()<f.find("li").length-1?i.next().addClass("hover"):f.find("li:first-child").addClass("hover")):t===27?(n.preventDefault(),e.trigger("click.fs")):t===13||t===32?(n.preventDefault(),i.trigger("click.fs")):t===9&&e.hasClass("open")&&e.trigger("close.fs"),r=f.find(".hover"),r.length)return f.scrollTop(0),f.scrollTop(r.position().top-12)}else if(t===13||t===32||t===38||t===40)return n.preventDefault(),e.trigger("click.fs")});f.on("click.fs","li",function(){var o,s;return o=n(this),t.val(o.data("raw-value")),i.useNativeSelect||t.trigger("blur.fs").trigger("focus.fs"),f.find(".selected").removeClass("selected"),o.addClass("selected"),e.addClass("selected"),s=t.val(o.data("raw-value")).trigger("change.fs").trigger("blur.fs").trigger("focus.fs"),r=!1,u=!1,s});f.on("mousedown",function(){u=!0});f.on("mouseup",function(){u&&(u=!1,t.focus());r=!1});f.on("mousedown.fs","li",function(){r=!0});f.on("mouseenter.fs","li",function(){var t,i;return i=n(this),t=f.find(".hover"),t.removeClass("hover"),i.addClass("hover")});f.on("mouseleave.fs","li",function(){return f.find(".hover").removeClass("hover")});c=function(){var r;if(h(),!i.useNativeSelect)return r=t.find("option"),t.find("option").each(function(t,r){var u;return r=n(r),!r.prop("disabled")&&(r.val()||i.includeBlank)?(u=i.optionTemplate(r),r.prop("selected")?f.append('<li data-raw-value="'+r.val()+'" class="selected">'+angular.element(n("#my_translator_app")).scope().localize(u)+"<\/li>"):f.append('<li data-raw-value="'+r.val()+'">'+angular.element(n("#my_translator_app")).scope().localize(u)+"<\/li>")):void 0})};t.on("update.fs",function(){return o.find(".options").empty(),c()});return c()}})}}.call(this);qq=qq||{};qq.extend=function(n,t){for(var i in t)n[i]=t[i]};qq.indexOf=function(n,t,i){if(n.indexOf)return n.indexOf(t,i);i=i||0;var r=n.length;for(i<0&&(i+=r);i<r;i++)if(i in n&&n[i]===t)return i;return-1};qq.getUniqueId=function(){var n=0;return function(){return n++}}();qq.attach=function(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)};qq.detach=function(n,t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.attachEvent&&n.detachEvent("on"+t,i)};qq.preventDefault=function(n){n.preventDefault?n.preventDefault():n.returnValue=!1};qq.insertBefore=function(n,t){t.parentNode.insertBefore(n,t)};qq.remove=function(n){n.parentNode.removeChild(n)};qq.contains=function(n,t){return n==t?!0:n.contains?n.contains(t):!!(t.compareDocumentPosition(n)&8)};qq.toElement=function(){var n=document.createElement("div");return function(t){n.innerHTML=t;var i=n.firstChild;return n.removeChild(i),i}}();qq.css=function(n,t){t.opacity!=null&&typeof n.style.opacity!="string"&&typeof n.filters!="undefined"&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")");qq.extend(n.style,t)};qq.hasClass=function(n,t){var i=new RegExp("(^| )"+t+"( |$)");return i.test(n.className)};qq.addClass=function(n,t){qq.hasClass(n,t)||(n.className+=" "+t)};qq.removeClass=function(n,t){var i=new RegExp("(^| )"+t+"( |$)");n.className=n.className.replace(i," ").replace(/^\s+|\s+$/g,"")};qq.setText=function(n,t){n.innerText=t;n.textContent=t};qq.children=function(n){for(var i=[],t=n.firstChild;t;)t.nodeType==1&&i.push(t),t=t.nextSibling;return i};qq.getByClass=function(n,t){var i;if(n.querySelectorAll)return n.querySelectorAll("."+t);var u=[],r=n.getElementsByTagName("*"),f=r.length;for(i=0;i<f;i++)qq.hasClass(r[i],t)&&u.push(r[i]);return u};qq.obj2url=function(n,t,i){var u=[],f="&",e=function(n,i){var r=t?/\[\]$/.test(t)?t:t+"["+i+"]":i;r!="undefined"&&i!="undefined"&&u.push(typeof n=="object"?qq.obj2url(n,r,!0):Object.prototype.toString.call(n)==="[object Function]"?encodeURIComponent(r)+"="+encodeURIComponent(n()):encodeURIComponent(r)+"="+encodeURIComponent(n))},o,r;if(!i&&t)f=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",u.push(t),u.push(qq.obj2url(n));else if(Object.prototype.toString.call(n)==="[object Array]"&&typeof n!="undefined")for(r=0,o=n.length;r<o;++r)e(n[r],r);else if(typeof n!="undefined"&&n!==null&&typeof n=="object")for(r in n)e(n[r],r);else u.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return u.join(f).replace(/^&/,"").replace(/%20/g,"+")};qq=qq||{};qq.FileUploaderBasic=function(n){this._options={debug:!1,action:"/server/upload",headers:null,params:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],allowedMimetypes:[],sizeLimit:0,minSizeLimit:0,onSubmit:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(n){alert(n)}};qq.extend(this._options,n);this._filesInProgress=0;this._handler=this._createUploadHandler();this._options.button&&(this._button=this._createUploadButton(this._options.button));this._preventLeaveInProgress()};qq.FileUploaderBasic.prototype={setParams:function(n){this._options.params=n},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(n){var t=this;return new qq.UploadButton({element:n,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),allowedMimetypes:this._options.allowedMimetypes,onChange:function(n){t._onInputChange(n)}})},_createUploadHandler:function(){var n=this,t;return t=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm",new qq[t]({debug:this._options.debug,action:this._options.action,headers:this._options.headers,maxConnections:this._options.maxConnections,onProgress:function(t,i,r,u){n._onProgress(t,i,r,u);n._options.onProgress(t,i,r,u)},onComplete:function(t,i,r){n._onComplete(t,i,r);n._options.onComplete(t,i,r)},onCancel:function(t,i){n._onCancel(t,i);n._options.onCancel(t,i)}})},_preventLeaveInProgress:function(){var n=this;qq.attach(window,"beforeunload",function(t){if(n._filesInProgress){var t=t||window.event;return t.returnValue=n._options.messages.onLeave,n._options.messages.onLeave}})},_onSubmit:function(){this._filesInProgress++},_onProgress:function(){},_onComplete:function(n,t,i){this._filesInProgress--;i.error&&this._options.showMessage(i.error)},_onCancel:function(){this._filesInProgress--},_onInputChange:function(n){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(n.files):this._validateFile(n)&&this._uploadFile(n);this._button.reset()},_uploadFileList:function(n){for(var t=0;t<n.length;t++)if(!this._validateFile(n[t]))return;for(t=0;t<n.length;t++)this._uploadFile(n[t])},_uploadFile:function(n){var t=this._handler.add(n),i=this._handler.getName(t);this._options.onSubmit(t,i)!==!1&&(this._onSubmit(t,i),this._handler.upload(t,this._options.params))},_validateFile:function(n){var t,i;if(n.value?t=n.value.replace(/.*(\/|\\)/,""):(t=n.fileName!=null?n.fileName:n.name,i=n.fileSize!=null?n.fileSize:n.size),t&&(t=decodeURIComponent(t)),this._isAllowedExtension(t)){if(i===0)return this._error("emptyError",t),!1;if(i&&this._options.sizeLimit&&i>this._options.sizeLimit)return this._error("sizeError",t),!1;if(i&&i<this._options.minSizeLimit)return this._error("minSizeError",t),!1}else return this._error("typeError",t),!1;return!0},_error:function(n,t){function i(n,t){r=r.replace(n,t)}var r=this._options.messages[n];i("{file}",this._formatFileName(t));i("{extensions}",this._options.allowedExtensions.join(", "));i("{sizeLimit}",this._formatSize(this._options.sizeLimit));i("{minSizeLimit}",this._formatSize(this._options.minSizeLimit));this._options.showMessage(r)},_formatFileName:function(n){return n},_isAllowedExtension:function(n){var r=-1!==n.indexOf(".")?n.replace(/.*[.]/,"").toLowerCase():"",i=this._options.allowedExtensions,t;if(!i.length)return!0;for(t=0;t<i.length;t++)if(i[t].toLowerCase()==r)return!0;return!1},_formatSize:function(n){var t=-1;do n=n/1024,t++;while(n>999);return+n.toFixed(2)+["kB","MB","GB","TB","PB","EB"][t]}};qq.FileUploader=function(n){qq.FileUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop files here to upload<\/span><\/div><div class="qq-upload-button">Upload a file<\/div><ul class="qq-upload-list"><\/ul><\/div>',fileTemplate:'<li><span class="qq-upload-file"><\/span><span class="qq-upload-spinner"><\/span><span class="qq-upload-size"><\/span><a class="qq-upload-cancel" href="#">Cancel<\/a><span class="qq-upload-failed-text">Failed<\/span><\/li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}});qq.extend(this._options,n);this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,"list");this._classes=this._options.classes;this._button=this._createUploadButton(this._find(this._element,"button"));this._bindCancelEvent();this._setupDragDrop()};qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype);qq.extend(qq.FileUploader.prototype,{_find:function(n,t){var i=qq.getByClass(n,this._options.classes[t])[0];if(!i)throw new Error("element not found "+t);return i},_setupDragDrop:function(){var t=this,n=this._find(this._element,"drop"),i=new qq.UploadDropZone({element:n,onEnter:function(i){qq.addClass(n,t._classes.dropActive);i.stopPropagation()},onLeave:function(n){n.stopPropagation()},onLeaveNotDescendants:function(){qq.removeClass(n,t._classes.dropActive)},onDrop:function(i){n.style.display="none";qq.removeClass(n,t._classes.dropActive);t._uploadFileList(i.dataTransfer.files)}});n.style.display="none";qq.attach(document,"dragenter",function(t){i._isValidFileDrag(t)&&(n.style.display="block")});qq.attach(document,"dragleave",function(t){if(i._isValidFileDrag(t)){var r=document.elementFromPoint(t.clientX,t.clientY);r&&r.nodeName!="HTML"||(n.style.display="none")}})},_onSubmit:function(n,t){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(n,t)},_onProgress:function(n,t,i,r){var f,u,e;qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);f=this._getItemByFileId(n);u=this._find(f,"size");u.style.display="inline";e=i!=r?Math.round(i/r*100)+"% from "+this._formatSize(r):this._formatSize(r);qq.setText(u,e)},_onComplete:function(n,t,i){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var r=this._getItemByFileId(n);qq.remove(this._find(r,"cancel"));i.success?qq.addClass(r,this._classes.success):qq.addClass(r,this._classes.fail)},_addToList:function(n,t){var i=qq.toElement(this._options.fileTemplate),r;i.qqFileId=n;r=this._find(i,"file");qq.setText(r,this._formatFileName(t));this._find(i,"size").style.display="none";this._listElement.appendChild(i)},_getItemByFileId:function(n){for(var t=this._listElement.firstChild;t;){if(t.qqFileId==n)return t;t=t.nextSibling}},_bindCancelEvent:function(){var n=this,t=this._listElement;qq.attach(t,"click",function(t){var i,r;t=t||window.event;i=t.target||t.srcElement;qq.hasClass(i,n._classes.cancel)&&(qq.preventDefault(t),r=i.parentNode,n._handler.cancel(r.qqFileId),qq.remove(r))})}});qq.UploadDropZone=function(n){this._options={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}};qq.extend(this._options,n);this._element=this._options.element;this._disableDropOutside();this._attachEvents()};qq.UploadDropZone.prototype={_disableDropOutside:function(){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(n){n.dataTransfer&&(n.dataTransfer.dropEffect="none",n.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var n=this;qq.attach(n._element,"dragover",function(t){if(n._isValidFileDrag(t)){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect=i=="move"||i=="linkMove"?"move":"copy";t.stopPropagation();t.preventDefault()}});qq.attach(n._element,"dragenter",function(t){if(n._isValidFileDrag(t))n._options.onEnter(t)});qq.attach(n._element,"dragleave",function(t){if(n._isValidFileDrag(t)){n._options.onLeave(t);var i=document.elementFromPoint(t.clientX,t.clientY);if(!qq.contains(this,i))n._options.onLeaveNotDescendants(t)}});qq.attach(n._element,"drop",function(t){if(n._isValidFileDrag(t)){t.preventDefault();n._options.onDrop(t)}})},_isValidFileDrag:function(n){var t=n.dataTransfer,i=navigator.userAgent.indexOf("AppleWebKit")>-1;return t&&t.effectAllowed!="none"&&(t.files||!i&&t.types.contains&&t.types.contains("Files"))}};qq.UploadButton=function(n){this._options={element:null,multiple:!1,allowedMimetypes:[],name:"file",onChange:function(){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};qq.extend(this._options,n);this._element=this._options.element;qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"});this._input=this._createInput()};qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input);qq.removeClass(this._element,this._options.focusClass);this._input=this._createInput()},_createInput:function(){var n=document.createElement("input"),r,i,t;if(this._options.multiple&&n.setAttribute("multiple","multiple"),n.setAttribute("type","file"),navigator.userAgent.indexOf("Edge")>-1&&this._options.allowedMimetypes)for(r=[],i=0;i<this._options.allowedMimetypes.length;i++)this._options.allowedMimetypes[i]!="application/xhtml+xml"&&r.push(this._options.allowedMimetypes[i]);else n.setAttribute("accept",this._options.allowedMimetypes.join(", "));return n.setAttribute("name",this._options.name),qq.css(n,{position:"absolute",right:0,top:0,fontSize:"180px",height:"100%",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(n),t=this,qq.attach(n,"change",function(){t._options.onChange(n)}),qq.attach(n,"mouseover",function(){qq.addClass(t._element,t._options.hoverClass)}),qq.attach(n,"mouseout",function(){qq.removeClass(t._element,t._options.hoverClass)}),qq.attach(n,"focus",function(){qq.addClass(t._element,t._options.focusClass)}),qq.attach(n,"blur",function(){qq.removeClass(t._element,t._options.focusClass)}),window.attachEvent&&n.setAttribute("tabIndex","-1"),n}};qq.UploadHandlerAbstract=function(n){this._options={debug:!1,action:"/upload.php",headers:null,maxConnections:999,onProgress:function(){},onComplete:function(){},onCancel:function(){}};qq.extend(this._options,n);this._queue=[];this._params=[]};qq.UploadHandlerAbstract.prototype={log:function(n){this._options.debug&&typeof console!="undefined"&&console.log("[uploader] "+n)},add:function(){},upload:function(n,t){var r=this._queue.push(n),i={};qq.extend(i,t);this._params[n]=i;r<=this._options.maxConnections&&this._upload(n,this._params[n])},cancel:function(n){this._cancel(n);this._dequeue(n)},cancelAll:function(){for(var n=0;n<this._queue.length;n++)this._cancel(this._queue[n]);this._queue=[]},getName:function(){},getSize:function(){},getQueue:function(){return this._queue},_upload:function(){},_cancel:function(){},_dequeue:function(n){var r=qq.indexOf(this._queue,n),t,i;this._queue.splice(r,1);t=this._options.maxConnections;this._queue.length>=t&&r<t&&(i=this._queue[t-1],this._upload(i,this._params[i]))}};qq.UploadHandlerForm=function(){qq.UploadHandlerAbstract.apply(this,arguments);this._inputs={}};qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerForm.prototype,{add:function(n){n.setAttribute("name","fname");var t="qq-upload-handler-iframe"+qq.getUniqueId();return this._inputs[t]=n,n.parentNode&&qq.remove(n),t},getName:function(n){return this._inputs[n].value.replace(/.*(\/|\\)/,"")},_cancel:function(n){this._options.onCancel(n,this.getName(n));delete this._inputs[n];var t=document.getElementById(n);t&&(t.setAttribute("src","javascript:false;"),qq.remove(t))},_upload:function(n,t){var f=this._inputs[n],i;if(!f)throw new Error("file with passed id was not added, or already uploaded or cancelled");var e=this.getName(n),r=this._createIframe(n),u=this._createForm(r,t);return u.appendChild(f),i=this,this._attachLoadEvent(r,function(){i.log("iframe loaded");var t=i._getIframeContentJSON(r);i._options.onComplete(n,e,t);i._dequeue(n);delete i._inputs[n];setTimeout(function(){qq.remove(r)},1)}),u.submit(),qq.remove(u),n},_attachLoadEvent:function(n,t){qq.attach(n,"load",function(){n.parentNode&&(n.contentDocument&&n.contentDocument.body&&n.contentDocument.body.innerHTML=="false"||t())})},_getIframeContentJSON:function(n){var i=n.contentDocument?n.contentDocument:n.contentWindow.document,t;this.log("converting iframe's innerHTML to JSON");this.log("innerHTML = "+i.body.outerText);try{t=eval("("+i.body.outerText+")")}catch(r){t={}}return t},_createIframe:function(n){var t=qq.toElement('<iframe src="javascript:false;" name="'+n+'" />');return t.setAttribute("id",n),t.style.display="none",document.body.appendChild(t),t},_createForm:function(n,t){var i=qq.toElement('<form method="post" enctype="multipart/form-data"><\/form>'),r=qq.obj2url(t,this._options.action);return i.setAttribute("action",r),i.setAttribute("target",n.name),i.style.display="none",document.body.appendChild(i),i}});qq.UploadHandlerXhr=function(){qq.UploadHandlerAbstract.apply(this,arguments);this._files=[];this._xhrs=[];this._loaded=[]};qq.UploadHandlerXhr.isSupported=function(){var n=document.createElement("input");return n.type="file","multiple"in n&&typeof File!="undefined"&&typeof(new XMLHttpRequest).upload!="undefined"};qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerXhr.prototype,{add:function(n){if(!(n instanceof File))throw new Error("Passed obj in not a File (in qq.UploadHandlerXhr)");return this._files.push(n)-1},getName:function(n){var t=this._files[n],i=t.fileName!=null?t.fileName:t.name;return i?decodeURIComponent(i):i},getSize:function(n){var t=this._files[n];return t.fileSize!=null?t.fileSize:t.size},getLoaded:function(n){return this._loaded[n]||0},_upload:function(n,t){var o=this._files[n],f=this.getName(n),s=this.getSize(n),i,r,e,u;this._loaded[n]=0;i=this._xhrs[n]=new XMLHttpRequest;r=this;i.upload.onprogress=function(t){if(t.lengthComputable){r._loaded[n]=t.loaded;r._options.onProgress(n,f,t.loaded,t.total)}};i.onreadystatechange=function(){i.readyState==4&&r._onComplete(n,i)};t=t||{};t.fname=f;e=qq.obj2url(t,this._options.action);i.open("POST",e,!0);for(u in this._options.headers)this._options.headers.hasOwnProperty(u)&&i.setRequestHeader(u,this._options.headers[u]);i.setRequestHeader("X-Requested-With","XMLHttpRequest");i.setRequestHeader("X-File-Name",encodeURIComponent(f));i.setRequestHeader("Content-Type","application/octet-stream");i.send(o)},_onComplete:function(n,t){var i,r,u;if(this._files[n]){i=this.getName(n);r=this.getSize(n);this._options.onProgress(n,i,r,r);if(t.status==200){this.log("xhr - server response received");this.log("responseText = "+t.responseText);try{u=eval("("+t.responseText+")")}catch(f){u={}}this._options.onComplete(n,i,u)}else this._options.onComplete(n,i,{error:"Fail. HTTP status: "+t.status+" "+t.statusText});this._files[n]=null;this._xhrs[n]=null;this._dequeue(n)}},_cancel:function(n){this._options.onCancel(n,this.getName(n));this._files[n]=null;this._xhrs[n]&&(this._xhrs[n].abort(),this._xhrs[n]=null)}}),function(){var n={getSelection:function(){var n=this.$?this[0]:this;return("selectionStart"in n&&function(){var t=n.selectionEnd-n.selectionStart;return{start:n.selectionStart,end:n.selectionEnd,length:t,text:n.value.substr(n.selectionStart,t)}}||document.selection&&function(){var t,i,r,u;try{return(t=document.selection.createRange(),$(t.parentElement()).parents(".translateContainerRight").length>0)?{start:0,end:n.value.length,length:0,text:""}:t==null?{start:0,end:n.value.length,length:0}:(i=n.createTextRange(),r=i.duplicate(),i.moveToBookmark(t.getBookmark()),r.setEndPoint("EndToStart",i),u=r.text,{start:u.replace(/\r\n/g,"\n").length,end:u.length+t.text.length,length:t.text.length,text:t.text})}catch(f){return n.length>0?{start:0,end:n[0].value.length,length:0,text:""}:{start:0,end:n.value.length,length:0,text:""}}}||function(){return{start:0,end:n.length,length:0,text:""}})()},replaceSelection:function(){var n=this.$?this[0]:this,t=arguments[0]||"";return("selectionStart"in n&&function(){return n.value=n.value.substr(0,n.selectionStart)+t+n.value.substr(n.selectionEnd,n.value.length),this}||document.selection&&function(){return n.focus(),document.selection.createRange().text=t,this}||function(){return n.value+=t,this})()}};$.each(n,function(n){$.fn[n]=this});$.fn.addOption=function(){var u=function(n,t,i,r,u){var e=document.createElement("option"),o,h,s,c,f,l;if(e.value=t,e.text=i,o=n.options,h=o.length,!n.cache)for(n.cache={},s=0;s<h;s++)n.cache[o[s].value]=s;if(u||u==0)for(c=e,f=u;f<=h;f++)l=n.options[f],n.options[f]=c,o[f]=c,n.cache[o[f].value]=f,c=l;typeof n.cache[t]=="undefined"&&(n.cache[t]=h);n.options[n.cache[t]]=e;r&&(e.selected=!0)},n=arguments,t,i,r,f,e;return n.length==0?this:(t=!0,i=!1,typeof n[0]=="object"&&(i=!0,r=n[0]),n.length>=2&&(typeof n[1]=="boolean"?(t=n[1],startindex=n[2]):typeof n[2]=="boolean"?(t=n[2],startindex=n[1]):startindex=n[1],i||(f=n[0],e=n[1])),this.each(function(){if(this.nodeName.toLowerCase()=="select")if(i)for(var n in r)u(this,n,r[n],t,startindex),startindex+=1;else u(this,f,e,t,startindex)}),this)};$.fn.selectOptions=function(n,t){var i=n,r=typeof n,f,u;return(r=="object"&&i.constructor==Array&&(f=this,$.each(i,function(){f.selectOptions(this,t)})),u=t||!1,r!="string"&&r!="function"&&r!="object")?this:(this.each(function(){var t,r,n;if(this.nodeName.toLowerCase()!="select")return this;for(t=this.options,r=t.length,n=0;n<r;n++)i.constructor==RegExp?t[n].value.match(i)?t[n].selected=!0:u&&(t[n].selected=!1):t[n].value==i?t[n].selected=!0:u&&(t[n].selected=!1)}),this)};$.fn.selectedValues=function(){var n=[];return this.selectedOptions().each(function(){n[n.length]=this.value}),n};$.fn.selectedOptions=function(){return this.find("option:selected")};$.fn.getDefaultFontSize=function(n){if($.fn.defaultFontSize)return $.fn.defaultFontSize;if(n=n||document.body,!n)return null;var t=document.createElement("span");return t.style.cssText="display:inline-block; padding:0; line-height:1; position:absolute; visibility:hidden; font-size:1em",t.appendChild(document.createTextNode("M")),n.appendChild(t),$.fn.defaultFontSize=[t.offsetWidth,t.offsetHeight],n.removeChild(t),$.fn.defaultFontSize}}();$.extend(Tilde.TranslatorWidgetDefaultOptions,{_useRecentLangSelector:!1});$.extend(Tilde.TranslatorWidget.prototype,{recentlangsPluginInit:function(){if($widget.settings._useRecentLangSelector){$widget.onSystemListLoadedHandlers.push(function(){$widget.loadPopularSourceLangList();$widget.loadPopularTargetLangList()});$widget.onSystemChangedHandlers.push(function(n){$widget.changePopularLangList(n)});$(document).on("click",".popSourceLangs li",function(){$(this).hasClass("active")||($(this).siblings().removeClass("active"),$(this).addClass("active"));$('.translateSourceLang option[value="'+$(this).attr("data-value")+'"]').prop("selected",!0);$widget.fancySource.trigger("update.fs")});$(document).on("click",".popTargetLangs li",function(){$(this).hasClass("active")||($(this).siblings().removeClass("active"),$(this).addClass("active"));$('.translateTargetLang option[lang="'+$(this).attr("data-value")+'"]').prop("selected",!0);$widget.fancyTarget.trigger("update.fs")});$(window).on("resize",function(){$widget.loadPopularSourceLangList();$widget.loadPopularTargetLangList()})}},loadPopularSourceLangList:function(n){n||(n=3);languageIndexes=[];$(".translateSourceLang option").each(function(t){t<n?languageIndexes.push(t):$(this).val()===$(this).parent().val()&&(languageIndexes.length>0&&languageIndexes.pop(),languageIndexes.push(t))});var t="";$(".translateSourceLang option").each(function(n){$.inArray(n,languageIndexes)>=0&&(t+='<li data-value="'+$(this).val()+'"'+($(this).val()===$(this).parent().val()?' class="active"':"")+">"+angular.element($("#my_translator_app")).scope().localize($(this).text())+"<\/li>")});$(".translateSystemContainerLeft .fancy-select").toggle($(".translateSourceLang option").length>n);$(".popSourceLangs").html(t);$(".translateSystemContainerLeft").height()>50&&n>1&&$widget.loadPopularSourceLangList(n-1)},loadPopularTargetLangList:function(n){n||(n=3);languageIndexes=[];$(".translateTargetLang option").each(function(t){t<n?languageIndexes.push(t):$(this).val()===$(this).parent().val()&&(languageIndexes.length>0&&languageIndexes.pop(),languageIndexes.push(t))});var t="";$(".translateTargetLang option").each(function(n){$.inArray(n,languageIndexes)>=0&&(t+='<li data-value="'+$(this).attr("lang")+'"'+($(this).val()===$(this).parent().val()?' class="active"':"")+">"+angular.element($("#my_translator_app")).scope().localize($(this).text())+"<\/li>")});$(".translateSystemContainerRight .fancy-select").toggle($(".translateTargetLang option").length>n);$(".popTargetLangs").html(t);$(".translateSystemContainerRight").height()>50&&n>1&&$widget.loadPopularTargetLangList(n-1)},changePopularLangList:function(){var i=$widget.getActiveSystemObj(),n,t;i&&(n=i.SourceLanguage.Code,t=i.TargetLanguage.Code,$(".popSourceLangs li").removeClass("active"),$('.popSourceLangs li[data-value="'+n+'"]').length>0?$('.popSourceLangs li[data-value="'+n+'"]').addClass("active"):($(".popSourceLangs").prepend('<li data-value="'+n+'" class="active">'+$(".translateSourceLang :selected").text()+"<\/li>"),$(".popSourceLangs li").last().remove(),$(".popSourceLangs li").length>1&&$(".translateSystemContainerLeft").height()>50&&$(".popSourceLangs li").last().remove()),$widget.loadPopularTargetLangList(),$(".popTargetLangs li").removeClass("active"),$('.popTargetLangs li[data-value="'+t+'"]').length>0?$('.popTargetLangs li[data-value="'+t+'"]').addClass("active"):($(".popTargetLangs").prepend('<li data-value="'+t+'" class="active">'+$(".translateTargetLang :selected").text()+"<\/li>"),$(".popTargetLangs li").last().remove(),$(".popTargetLangs li").length>1&&$(".translateSystemContainerRight").height()>50&&$(".popTargetLangs li").last().remove()))}});Tilde.TranslatorWidget.prototype.pluginInitializers.push(Tilde.TranslatorWidget.prototype.recentlangsPluginInit);$.extend(Tilde.TranslatorWidgetDefaultOptions,{_uploadUrl:"https://letsmt.eu/ws/Files/Upload",_deleteUrl:"https://letsmt.eu/ws/Files/Delete",_downloadUrl:"https://letsmt.eu/ws/Files/Download",_translateUrl:"https://letsmt.eu/ws/Files/StartTranslation",_previewUrl:"https://letsmt.eu/ws/Files/GetDocumentPreview",_checkStatusUrl:"https://letsmt.eu/ws/Files/GetStatus",_languageNamesUrl:"https://letsmt.eu/ws/Files/GetLanguageNames",_landingView:!1,_allowedFileTypes:[{ext:"txt",mime:"text/plain"}],_showAllowedFileInfo:!1,_mimetypeFilter:!0,_uploadSizeLimit:31457280,_startPercent:3,_docMaxWordCount:0,_docMaxSegmentCount:-1,_docTransMetadata:{},_warnWhenRunningAway:!1,_onFileUpload:null,_onDocTranslationStart:null,_onDocTranslationCancel:null,_onDocTranslationStop:null,_onDocTranslationFinished:null,_onDocTranslationError:null,_onDocTranslationProgress:null,_advancedOptions:!1});$.extend(Tilde.TranslatorWidget.prototype,{filePluginInit:function(){var n,i,u,t,r,f;if($("#docUploadFile",$widget.settings.container).length!==0){$widget.filePluginEvents();$widget.filePluginSetTempTextResult();navigator.userAgent.indexOf("iPhone OS")>-1&&$(".docAppleLimited").removeClass("hide");$widget.settings._landingView&&$widget.filePluginShowIntro();n=[];i=[];for(u in $widget.settings._allowedFileTypes)t=$widget.settings._allowedFileTypes[u],$.inArray(t.ext,n)==-1&&n.push(t.ext),$widget.settings._mimetypeFilter&&$.inArray(t.mime,i)==-1&&i.push(t.mime);$widget.onSystemChangedHandlers.push(function(){$("#docSourcePreview",$widget.settings.container).attr("lang",$widget.getActiveSystemObj().SourceLanguage.Code);$(".translateResult",$widget.settings.container).attr("lang",$widget.getActiveSystemObj().TargetLanguage.Code)});r="";$widget.settings._showAllowedFileInfo&&(r='<span class="supTypesList">'+uiResources[$widget.settings._language].docSupportedTypes.replace("{extensions}",'<span class="format">'+n.join('<\/span>, <span class="format">')+"<\/span>")+"<\/span>");$widget.settings._docMaxSegmentCount!==-1&&$(".stickyMessageBox").html(uiResources[$widget.settings._language].docLimit.replace("{limit}",$widget.settings._docMaxSegmentCount)).removeClass("hide");f=new qq.FileUploader({element:document.getElementById("docUploadFile"),multiple:!1,allowedExtensions:n,allowedMimetypes:i,action:$widget.settings._uploadUrl,headers:$widget.getAuthHeaders(),debug:!1,sizeLimit:$widget.settings._uploadSizeLimit,template:'<div class="qq-uploader"> <div class="qq-upload-drop-area"><\/div>\t<div href="#" class="qq-upload-button">  <div class="qq-upload-button-image"><\/div>  <div class="qq-upload-button-text">     <span data-text="docUploadTooltip"><\/span>'+r+'  <\/div> <\/div>\t<ul class="qq-upload-list hide"><\/ul><\/div>',fileTemplate:'<li> <div class="qq-upload-meta">     <span class="qq-upload-meta-title">'+uiResources[$widget.settings._language].docUploadFilename+'<\/span>     <span class="qq-upload-file"><\/span>     <span class="qq-upload-failed-text">'+uiResources[$widget.settings._language].docUploadFailed+'<\/span>     <a class="qq-upload-cancel hide"><\/a> <\/div> <div class="qq-upload-meta">     <span class="qq-upload-meta-title">'+uiResources[$widget.settings._language].docUploadFilesize+'<\/span>     <span class="qq-upload-size"><\/span> <\/div> <div class="qq-upload-meta">     <span class="qq-upload-meta-title">'+uiResources[$widget.settings._language].docUploadWordcount+'<\/span>     <span class="qq-upload-wordcount"><\/span> <\/div><\/li>',messages:{typeError:uiResources[$widget.settings._language].docUploadMsgType,sizeError:uiResources[$widget.settings._language].docUploadMsgSize,emptyError:uiResources[$widget.settings._language].docUploadMsgEmpty},onSubmit:$widget.filePluginUploadOnSubmit,onComplete:$widget.filePluginUploadOnComplete,showMessage:function(n){$(".translateProgress").addClass("hide");$(".infoMessageBox").html(n).removeClass("hide")}});$widget.onSystemChangedHandlers.push(function(){$(".buttonDownDoc").length!==1||$(".buttonDownDoc").hasClass("hide")||$widget.filePluginUploadNew();$widget.filePluginSetTempTextResult()});$widget.settings._advancedOptions&&($(".buttonAdvancedOptions").removeClass("hide"),$(".optionBox .optCheck").change(function(){$(this).is(":checked")?($(this).parent().find(".manualInput").slideDown(),$(this).attr("id")==="cbAddSourcePrefix"&&$("#inputSourcePrefix").val()===""&&$("#inputSourcePrefix").val("*M*"),$(this).attr("id")==="cbAddTargetPrefix"&&$("#inputTargetPrefix").val()===""&&$("#inputTargetPrefix").val("*M*")):$(this).parent().find(".manualInput").slideUp()}),$(".optionBox  .langOptCheck").change(function(){var i,n;if($(this).is(":checked")){if($(".tmxSourceLang").empty(),$(".tmxTargetLang").empty(),i="",n=$widget.activeSystemId,n)var t=$widget.getActiveSystemObj(),r=t.SourceLanguage.Code+"-"+t.TargetLanguage.Code,u=$.ajax({type:"POST",url:$widget.settings._languageNamesUrl,headers:$widget.getAuthHeaders(),data:{languagePair:r},success:function(n){var t=n.split("\n");t.length==2&&($(".tmxSourceLang").empty().append(t[0]),$(".tmxTargetLang").empty().append(t[1]))},error:function(n){console.error(n)}});$(this).parent().find(".manualInput").slideDown()}else $(this).parent().find(".manualInput").slideUp()}))}},filePluginUploadOnSubmit:function(){$(".qq-upload-list, .infoMessageBox").html("").addClass("hide");$(".translateProgress").removeClass("hide")},filePluginUploadOnComplete:function(n,t,i){var f,u,r;i.success?($widget.settings._landingView&&($(".translateContainerRight",$widget.settings.container).removeClass("hide"),$(".translateContainerLeft, .translateContainerHeader",$widget.settings.container).removeClass("intro")),$(".transFileMeta").html($(".qq-upload-success").html()),$(".docUploadNewDoc").removeClass("hide"),$(".translateButton").removeClass("hide"),$widget.enableSystemChange(),$("#sendEmail, #sendEmailLabel").removeClass("hide"),$("#sendEmail").removeAttr("disabled"),f=i.filename,u=i.wordcount,$(".qq-upload-wordcount").html(u),$("#docUploadFile").addClass("hide"),$(".translateProgress").addClass("hide"),$(".uploadedDocumentName").text($(".qq-upload-file:first").text()).removeClass("hide"),$("#hidTranslRealFilename").length==0?$(".docTranslateContent").after($("<input>",{type:"hidden",id:"hidTranslRealFilename",value:f})):$("#hidTranslRealFilename").val(f),$("#docSourcePreview").removeClass("hide"),$("#docSourcePreview").html(i.preview),$("#docSourcePreview").toggleClass("bigIcon",$(".no-preview",$("#docSourcePreview")).length>0),$widget.settings._onFileUpload&&typeof $widget.settings._onFileUpload=="function"&&$widget.settings._onFileUpload(f,u),$widget.settings._docMaxWordCount!==0&&$widget.settings._docMaxWordCount<parseInt(u)?(r=uiResources[$widget.settings._language].docUploadMsgWordcnt.replace("{wordCount}",u),$(".qq-upload-wordcount").addClass("warning"),$(".infoMessageBox").html(r).removeClass("hide"),$widget.settings._onDocTranslationError&&typeof $widget.settings._onDocTranslationError=="function"&&$widget.settings._onDocTranslationError("FT_ERR_WORDCOUNT",r)):($(".qq-upload-wordcount").removeClass("warning"),$(".qq-upload-warn-msg").remove())):(i.error||jQuery.isEmptyObject(i))&&(r=uiResources[$widget.settings._language].docUploadFailed,$(".translateProgress").addClass("hide"),$(".infoMessageBox").html(r).show(),$widget.settings._onDocTranslationError&&typeof $widget.settings._onDocTranslationError=="function"&&$widget.settings._onDocTranslationError("FT_ERR_UPLOAD",r))},filePluginTranslate:function(){$widget.disableSystemChange();$(".translateButton, .docUploadNewDoc").addClass("hide");$widget.settings._advancedOptions&&($(".advancedOptions").addClass("hide"),$(".buttonAdvancedOptions").addClass("hide"),$(".buttonAdvancedOptions .btnText").text($(".buttonAdvancedOptions .btnText").text().replace("▴","▾")));$(".buttonCancelDoc").removeClass("hide");$(".docTempTarget").addClass("hide");$(".translateContainerRight").addClass("docProgress");$(".translateResult").removeClass("hide");$(".translateResult").addClass("bigIcon");$widget.settings._onDocTranslationStart&&typeof $widget.settings._onDocTranslationStart=="function"&&$widget.settings._onDocTranslationStart();$("#hidStopTranslation").val("false");$(".translateResult").html('<div id="translProgress" class="starting">   <div class="progressImage"><div class="bounce1"><\/div><div class="bounce2"><\/div><div class="bounce3"><\/div><\/div><div id="transItem" class="transItem">\t    <span class="percent">'+uiResources[$widget.settings._language].docStarting+"<\/span>   <\/div><\/div>");var n={systemid:$widget.activeSystemId,appid:$widget.settings._appId,filename:$(".transFileMeta .qq-upload-file").text(),tmpname:$("#hidTranslRealFilename").val(),wordlimit:$widget.settings._docMaxWordCount,segmentlimit:$widget.settings._docMaxSegmentCount,termcorpusid:$widget.termCorpusId&&$widget.getSelectedTermCorpusStatus()=="Ready"?$widget.termCorpusId:null};$widget.settings._advancedOptions&&(n.sendEmail=$("#sendEmail:checked").length>0,$("#cbAddSourcePrefix:checked").length>0&&(n.sourcePrefix=$("#inputSourcePrefix").val()),$("#cbAddTargetPrefix:checked").length>0&&(n.targetPrefix=$("#inputTargetPrefix").val()),n.doNotReplaceExistingTranslation=$("#cbReplaceTarget:checked").length>0,$("#cbLangSpec:checked").length>0&&(n.sourceLanguage=$(".tmxSourceLang option:selected").val(),n.targetLanguage=$(".tmxTargetLang option:selected").val()));$.ajax({type:"POST",dataType:"json",url:$widget.settings._translateUrl,headers:$widget.getAuthHeaders(),data:n,success:function(n){n.success?($widget.settings._warnWhenRunningAway&&$(window).bind("beforeunload.warn",function(){return uiResources[$widget.settings._language].docTranslInProgress}),$("#hidUploadTempId").length==0?$(".docTranslateContent").after($("<input>",{type:"hidden",id:"hidUploadTempId",value:n.docid})):$("#hidUploadTempId").val(n.docid),$widget.filePluginTranslateProgress(n.docid),typeof $widget.checkSystemStatus!="undefined"&&$widget.checkSystemStatus()):($widget.settings._onDocTranslationError&&typeof $widget.settings._onDocTranslationError=="function"&&$widget.settings._onDocTranslationError("",uiResources[$widget.settings._language].E_FAILED_IN_TRANSLATION),$widget.settings._onDocTranslationStop&&typeof $widget.settings._onDocTranslationStop=="function"&&$widget.settings._onDocTranslationStop(),$(".infoMessageBox").html(uiResources[$widget.settings._language].E_FAILED_IN_TRANSLATION).removeClass("hide"),$(".buttonDelDoc").addClass("hide"),$(".docUploadNewDoc").removeClass("hide"),$(".translateContainerRight").removeClass("docProgress"),$("#translProgress").html(""),$widget.settings._advancedOptions&&$(".buttonAdvancedOptions").removeClass("hide"),typeof console!="undefined"&&console.log(n))},error:function(n,t,i){var r;n.status==401&&$widget.settings._loginUrl&&(window.location=$widget.settings._loginUrl);r=n.status==403?uiResources[$widget.settings._language].E_UNAUTHORIZED:uiResources[$widget.settings._language].E_FAILED_IN_TRANSLATION;$widget.settings._onDocTranslationError&&typeof $widget.settings._onDocTranslationError=="function"&&$widget.settings._onDocTranslationError("",r);$widget.settings._onDocTranslationStop&&typeof $widget.settings._onDocTranslationStop=="function"&&$widget.settings._onDocTranslationStop();$(".infoMessageBox").html(r).removeClass("hide");$(".buttonDelDoc").addClass("hide");$(".docUploadNewDoc").removeClass("hide");$(".translateContainerRight").removeClass("docProgress");$("#translProgress").html("");$widget.settings._advancedOptions&&$(".buttonAdvancedOptions").removeClass("hide");typeof console!="undefined"&&console.error(i)},complete:function(){$("#translProgress").removeClass("starting");$("#translProgress #transItem .percent").text($widget.settings._startPercent+"%")}})},filePluginEvents:function(){$(".docUploadNewDoc",$widget.settings.container).on("click",function(){$widget.filePluginUploadNew()});$(".buttonDelDoc",$widget.settings.container).on("click",function(){$widget.filePluginDeleteFile()});$(".buttonCancelDoc",$widget.settings.container).on("click",function(){$widget.settings._warnWhenRunningAway&&$(window).unbind("beforeunload.warn");$widget.filePluginDeleteFile()});$(".translateButton",$widget.settings.container).on("click",function(){if($(this).attr("data-disabled")==="true")return!1;$widget.filePluginTranslate()});if($widget.settings._advancedOptions)$(".buttonAdvancedOptions",$widget.settings.container).on("click",function(){$(".advancedOptions").toggleClass("hide");$(".buttonAdvancedOptions .btnText").text().indexOf("▾")>0?$(".buttonAdvancedOptions .btnText").text($(".buttonAdvancedOptions .btnText").text().replace("▾","▴")):$(".buttonAdvancedOptions .btnText").text($(".buttonAdvancedOptions .btnText").text().replace("▴","▾"))})},filePluginUploadNew:function(){var n=$("#hidUploadTempId").val();typeof n=="undefined"&&(n="");this.filePluginDeleteFileOnServer();$(".docUploadNewDoc").addClass("hide");$(".buttonDownDoc").removeAttr("href").addClass("hide");$("#hidTranslRealFilename").remove();$("#hidTranslTempFilename").remove();$("#hidUploadTempId").remove();$(".uploadedDocumentName").text("").addClass("hide");$(".qq-upload-list").html("");$(".transFileMeta").html("");$(".infoMessageBox").html("").addClass("hide");$("#hidStopTranslation").val("false");$("#docUploadFile").removeClass("hide");$("#docSourcePreview").empty();$("#docSourcePreview").addClass("hide");$(".translateTextTempSourceContainer style").remove();$(".translateResult").empty();$widget.settings._advancedOptions&&$(".buttonAdvancedOptions").removeClass("hide");$widget.filePluginSetTempTextResult();$widget.enableSystemChange();$(".translateButton").addClass("hide");$widget.settings._onDocTranslationCancel&&typeof $widget.settings._onDocTranslationCancel=="function"&&$widget.settings._onDocTranslationCancel(n);$widget.settings._landingView&&$widget.filePluginShowIntro()},filePluginShowIntro:function(){$(".translateContainerRight",$widget.settings.container).addClass("hide");$(".translateContainerLeft, .translateContainerHeader",$widget.settings.container).addClass("intro")},filePluginDeleteFile:function(){$(".docUploadNewDoc").click();$(".docTranslateContent").after($("<input>",{type:"hidden",id:"hidStopTranslation",value:!0}));$(".buttonDelDoc, .buttonCancelDoc").addClass("hide");$(".translateContainerRight").removeClass("docProgress");this.filePluginSetTempTextResult();this.filePluginDeleteFileOnServer()},filePluginDeleteFileOnServer:function(){var n=$("#hidUploadTempId").val();typeof n=="undefined"&&(n="");n.length>0&&$.ajax({type:"POST",dataType:"json",url:$widget.settings._deleteUrl,headers:$widget.getAuthHeaders(),data:{docid:n},success:function(n){n.success||typeof console!="undefined"&&console.error("error while deleting: "+n.error);$widget.enableSystemChange()},error:function(n){typeof console!="undefined"&&console.error("error while deleting: "+n.error);n.status==401&&$widget.settings._loginUrl&&(window.location=$widget.settings._loginUrl);$widget.enableSystemChange()}})},filePluginTranslateProgress:function(n){$("#hidStopTranslation").val()!=="true"&&($(".translateContainerRight").hasClass("docProgress")||$(".translateContainerRight").addClass("docProgress"),$.ajax({type:"POST",dataType:"json",url:$widget.settings._checkStatusUrl,headers:$widget.getAuthHeaders(),data:{docId:n},success:function(t){var s=t.completed<$widget.settings._startPercent?$widget.settings._startPercent:t.completed,f,r,e,u,i,o;if($("#translProgress").removeClass("starting"),$("#translProgress .percent").text(s+"%"),t.status==="error"&&(f=uiResources[$widget.settings._language].E_DEFAULT_ERROR,uiResources[$widget.settings._language][t.error]&&(f=uiResources[$widget.settings._language][t.error]),$(".docUploadNewDoc").removeClass("hide"),$(".buttonCancelDoc").addClass("hide"),$(".infoMessageBox").html(f).removeClass("hide"),$("#translProgress").html(""),$widget.settings._onDocTranslationError&&typeof $widget.settings._onDocTranslationError=="function"&&$widget.settings._onDocTranslationError("",f),$widget.settings._onDocTranslationStop&&typeof $widget.settings._onDocTranslationStop=="function"&&$widget.settings._onDocTranslationStop()),t.reload)$(".buttonCancelDoc").removeClass("hide"),$widget.settings._onDocTranslationProgress&&typeof $widget.settings._onDocTranslationProgress=="function"&&$widget.settings._onDocTranslationProgress(s),setTimeout(function(){$widget.filePluginTranslateProgress(n)},5e3);else if(t.status==="completed"){if(t.warnings){for(r=t.warnings.split(","),e=[],counter=0;counter<r.length;counter++)uiResources[$widget.settings._language][r[counter]]?e.push(uiResources[$widget.settings._language][r[counter]]):e.push(r[counter]);$(".infoMessageBox").html(e.join("<br /> ")).removeClass("hide")}u=$widget.settings._downloadUrl+"?docid="+encodeURIComponent(n)+"&filename="+encodeURIComponent(t.filename);i=$widget.getAuthHeaders();i&&(i["client-id"]&&(u+="&clientId="+encodeURIComponent(i["client-id"])),i["website-auth-cookie"]&&(u+="&websiteAuthCookie="+encodeURIComponent(i["website-auth-cookie"])));$(".buttonDownDoc").attr("href",u).attr("target","_blank").removeClass("hide");$(".buttonDelDoc").addClass("hide");$(".buttonCancelDoc").addClass("hide");$("#hidTranslRealFilename").remove();$("#hidTranslTempFilename").remove();$(".docUploadNewDoc").removeClass("hide");$widget.settings._warnWhenRunningAway&&$(window).unbind("beforeunload.warn");$widget.settings._onDocTranslationFinished&&typeof $widget.settings._onDocTranslationFinished=="function"&&$widget.settings._onDocTranslationFinished(n);o=t.filename;$.ajax({type:"POST",dataType:"json",url:$widget.settings._previewUrl,headers:$widget.getAuthHeaders(),data:{filename:o,docid:n},success:function(n){n.success?n.preview?($(".translateResult").html(n.preview),$(".translateResult").removeClass("bigIcon")):($(".translateResult").html('<a href="'+u+'" target="_blank"><div class="translated-no-preview"><\/div><span>'+o+"<\/span><\/a>"),$(".translateResult").addClass("bigIcon")):$(".infoMessageBox").html(uiResources[$widget.settings._language].docPreviewError).removeClass("hide");$(".translateContainerRight").removeClass("docProgress");$("#translProgress").html("")},error:function(n){n.status==401&&$widget.settings._loginUrl&&(window.location=$widget.settings._loginUrl);$(".infoMessageBox").html(uiResources[$widget.settings._language].docPreviewError).removeClass("hide");$(".translateContainerRight").removeClass("docProgress");$("#translProgress").html("")}})}},error:function(n){if($widget.settings._warnWhenRunningAway&&$(window).unbind("beforeunload.warn"),n.status==401&&$widget.settings._loginUrl)window.location=$widget.settings._loginUrl;else{var t=uiResources[$widget.settings._language].docTranslFailed;$(".docUploadNewDoc").removeClass("hide");$(".infoMessageBox").html(t).removeClass("hide");$widget.settings._onDocTranslationError&&typeof $widget.settings._onDocTranslationError=="function"&&$widget.settings._onDocTranslationError("FT_ERR_DOCSTATUS",t)}}}))},filePluginGetTranslationStatus:function(){if($(".qq-upload-file").length===0)return"blank";if($(".translateContainerRight").hasClass("docProgress")){var n=$(".buttonDownDoc").attr("href");return n!==undefined&&n.length===0?"translating":"translated"}return"uploaded"},filePluginSetTempTextResult:function(){var n=uiResources[$widget.settings._language].docTempTarget,i,t;$widget.settings._systemSelectType==="domain"&&(i=$(".translateDomain option:selected",$widget.settings.container).text(),t=uiResources[$widget.settings._language]["DOMAIN_"+i.toUpperCase()],t!==undefined&&(n=t+"<p>"+n+"<\/p>"));$(".docTempTarget",$widget.settings.container).html(n).removeClass("hide");$(".translateResult",$widget.settings.container).addClass("hide")}});Tilde.TranslatorWidget.prototype.pluginInitializers.push(Tilde.TranslatorWidget.prototype.filePluginInit);$.extend(Tilde.TranslatorWidgetDefaultOptions,{_translationUrl:"https://letsmt.eu/ws/Service.svc/json/Translate",_updateTranslationUrl:"https://letsmt.eu/ws/Service.svc/json/UpdateTranslation",_dictionaryUrl:"https://yoursite/api/ajax/GetDictionaryEntry",_ttsUrl:"https://yoursite/TTS/GetSound",_textSource:".translateTextSource",_textResult:".translateTextResult",_landingView:!1,_enableParallelHover:!0,_highlightTranslated:!0,_highlightTranslatedTimeout:1500,_focusAfterClear:!0,_focusAfterTranslate:!0,_focusAfterLoad:!1,_translateAll:!1,_translationLimit:-1,_useDictionary:!1,_useSpeakers:!1,_onTranslationStarted:null,_onTranslationFinished:null,_onUrlEntered:null,_onTextInput:null,_onScrollBarWidthChanged:null,_text:null});$.extend(Tilde.TranslatorWidget.prototype,{textTranslator:null,translatedCnt:0,hoveredElements:[],textPluginInit:function(){$(".translateTextSource",$widget.settings.container).length!==0&&($widget.settings._focusAfterLoad&&$($widget.settings._textSource,$widget.settings.container).focus(),$widget.textPluginEvents(),$widget.settings._landingView&&($(".fakeCursor",$widget.settings.container).removeClass("hide"),$(".translateContainerRight",$widget.settings.container).addClass("hide"),$(".translateContainerLeft, .translateContainerHeader",$widget.settings.container).addClass("intro")),$widget.settings._enableParallelHover&&$widget.textPluginInitParallelHover(),$widget.textTranslator=new Tilde.TextTranslator($.extend($widget.settings)),$widget.settings._text?($($widget.settings._textSource,$widget.settings.container).text($widget.settings._text),$($widget.settings._textSource,$widget.settings.container).trigger("paste")):$widget.textPluginSetTempText(),$widget.onSystemChangedHandlers.push(function(){$(".translateTextSource",$widget.settings.container).attr("lang",$widget.getActiveSystemObj().SourceLanguage.Code);$(".backGroundSource",$widget.settings.container).attr("lang",$widget.getActiveSystemObj().SourceLanguage.Code);$(".translateTextResult",$widget.settings.container).attr("lang",$widget.getActiveSystemObj().TargetLanguage.Code)}),$widget.onSystemChangedHandlers.push($widget.textPluginTranslate),typeof $widget.termCorpusChangedHandlers!="undefined"&&$widget.termCorpusChangedHandlers.push($widget.textPluginTranslate),$(".editButton",$widget.settings.container).click(function(){var i,r,n,t;$.each($("input,select,a,textarea"),function(n,t){jQueryFocusableElement=$(t);jQueryFocusableElement.data("old-tab-index",jQueryFocusableElement.attr("tabindex"));jQueryFocusableElement.attr("tabindex","-1")});$(".translateTextResult .selected",$widget.settings.container).length==0&&($(".translateTextResult p .sentence",$widget.settings.container).first().addClass("selected"),$(".backGroundSource div .sentence",$widget.settings.container).first().addClass("selected"));i=$(".backGroundSource .selected",$widget.settings.container).text();r=$(".translateTextResult .selected",$widget.settings.container).text();$("body").append($("<div><\/div>",{id:"translationEditBackground"}));n=$("<div><\/div>",{id:"translationEditForm","class":"form"});$("body").append(n);n.append($("<a><\/a>",{href:"javascript:;",id:"translationEditClose",title:uiResources[$widget.settings._language].translationEditClose}));n.append($("<label><\/label>").text(uiResources[$widget.settings._language].translationEditOriginal));n.append($("<p>",{id:"translationEditOriginal"}).text(i));n.append($("<label><\/label>",{"for":"translationEditTranslation"}).text(uiResources[$widget.settings._language].translationEditTranslation));textarea=$("<textarea><\/textarea>",{id:"translationEditTranslation",autofocus:"autofocus",maxlength:"5000"}).val(r);n.append(textarea);n.append($("<div><\/div>",{id:"translationEditDescription"}).text(uiResources[$widget.settings._language].translationEditDescription));n.append($('<div class="translateProgress progress hide"><div class="bounce1"><\/div><div class="bounce2"><\/div><div class="bounce3"><\/div><\/div>'));t=$("<div><\/div>",{id:"translationEditButtons"});n.append(t);t.append($("<a><\/a>",{"class":"button",id:"translationEditBack",href:"javascript:;"}).text("◄"));t.append($("<a><\/a>",{"class":"button",id:"translationEditSave",href:"javascript:;"}).text(uiResources[$widget.settings._language].translationEditSave));t.append($("<a><\/a>",{"class":"button",id:"translationEditForward",href:"javascript:;"}).text("►"));$widget.resizeEditForm();$(window).on("keydown.translationEditForm",function(n){n.which==27&&$("#translationEditClose").trigger("click")});$("#translationEditClose").click(function(){if($(this).is("[disabled]")){event.preventDefault();return}$(window).off("keydown.translatioEditForm");$("#translationEditForm").remove();$("#translationEditBackground").remove();$.each($("input,select,a,textarea"),function(n,t){jQueryFocusableElement=$(t);typeof jQueryFocusableElement.data("old-tab-index")=="undefined"?jQueryFocusableElement.removeAttr("tabindex"):jQueryFocusableElement.attr("tabindex",jQueryFocusableElement.data("old-tab-index"))})});$("#translationEditBack").click(function(){for(var i,u=$(".backGroundSource .sentence",$widget.settings.container),t=$(".translateTextResult .sentence",$widget.settings.container),f=$(".translateTextResult .sentence.selected",$widget.settings.container),n=-1,r=0;r<t.length;r++)if(t[r]==f[0]){n=r;break}$(u[n]).removeClass("selected");$(t[n]).removeClass("selected");i=n>0?n-1:n;$(u[i]).addClass("selected");$(t[i]).addClass("selected");$("#translationEditOriginal").text($(u[i]).text());$("#translationEditTranslation").val($(t[i]).text());$widget.resizeEditForm()});$("#translationEditForward").click(function(){for(var i,u=$(".backGroundSource .sentence",$widget.settings.container),n=$(".translateTextResult .sentence",$widget.settings.container),f=$(".translateTextResult .sentence.selected",$widget.settings.container),t=-1,r=0;r<n.length;r++)if(n[r]==f[0]){t=r;break}$(u[t]).removeClass("selected");$(n[t]).removeClass("selected");i=t<n.length-1?t+1:t;$(u[i]).addClass("selected");$(n[i]).addClass("selected");$("#translationEditOriginal").text($(u[i]).text());$("#translationEditTranslation").val($(n[i]).text());$widget.resizeEditForm()});$("#translationEditSave").click(function(){$("#translationEditButtons").addClass("hide");$("#translationEditForm .translateProgress").removeClass("hide");$.ajax({url:$widget.settings._updateTranslationUrl,headers:$widget.getAuthHeaders(),method:"POST",dataType:"text",type:"GET",contentType:"application/json",data:JSON.stringify({appID:$widget.settings._appId,systemID:$widget.activeSystemId,text:$("#translationEditOriginal").text(),translation:$("#translationEditTranslation").val(),options:"suggestion"}),success:function(){$(".translateTextResult .sentence.selected",$widget.settings.container).text($("#translationEditTranslation").val());$("#translationEditClose").trigger("click")},error:function(n){$("#translationEditButtons").removeClass("hide");$("#translationEditForm .translateProgress").addClass("hide");typeof console!="undefined"&&console.error(n)}})});$("#translationEditTranslation").focus()}),typeof $widget.onSystemWokenUpHandlers!="undefined"&&$widget.onSystemWokenUpHandlers.push(function(){$widget.textTranslator.doTranslation({translateAll:!0})}))},resizeEditForm:function(){var i=$("#translationEditForm"),n=$("#translationEditForm textarea"),r,t;n.height(0);r=n[0].scrollHeight;r+=navigator.userAgent.indexOf("Trident")>0||navigator.userAgent.indexOf("MSIE")>0||navigator.userAgent.indexOf("Chrome")>0?n.outerHeight()-n.innerHeight():n.outerHeight()-n.height();n.css("height",r+"px");t=0;$.each(i.children(),function(n,i){$(i).hasClass("hide")||$(i).attr("id")=="translationEditClose"||(t+=$(i).outerHeight(!0))});i.css("height",t+"px");i.css("top","calc(50% - "+t/2+"px)")},textPluginUnload:function(){$widget.textTranslator&&$widget.textTranslator.clearTranslation()},textPluginEvents:function(){var n="click";navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Version/")>-1&&(n+=" touchstart");$(".translateButton",$widget.settings.container).on("click",function(){if($(this).attr("data-disabled")==="true")return!1;$widget.textPluginTranslate()});$(".translateResultClear").on("click",function(){$widget.textPluginResultClear()});$(".sourceSpeak").on("click",function(){$widget.textPluginSpeak("sourceAudio",$(".translateTextSource",$widget.settings.container).val())});$(".targetSpeak").on("click",function(){$widget.textPluginSpeak("targetAudio",$(".translateTextResult",$widget.settings.container).text())});if($(".translateTextSourceContainer",$widget.settings.container).bind(n,function(){if($(".translateTextTempSourceContainer").attr("data-disabled")==="true")return!1;$($widget.settings._textSource,$widget.settings.container).focus()}),$($widget.settings._textSource,$widget.settings.container).bind("focusout",$.proxy(function(){$($widget.settings._textSource,$widget.settings.container).val()==""&&$widget.textPluginSetTempText()},this)),$widget.settings._onTranslationStarted=function(){$widget.textPluginTranslationStarted()},$widget.settings._onTranslationFinished=function(){$widget.textPluginTranslationFinished()},$widget.settings._enableParallelHover)$(".translateTextSource").on("mousemove mouseleave",function(n){var t=[],u=null,i,f,r,e;for($.each($(".backGroundSource").find(".classMTsource"),function(t,i){for(var r,e=i.getClientRects(),f=0;f<e.length;f++)if(r=e[f],n.clientX>=r.left&&n.clientY>=r.top&&n.clientX<=r.right&&n.clientY<=r.bottom)return u=i,!1}),u!=null&&$.each($(u).find("span"),function(i,r){for(var u,e=r.getClientRects(),f=0;f<e.length;f++)u=e[f],n.clientX>=u.left&&n.clientY>=u.top&&n.clientX<=u.right&&n.clientY<=u.bottom&&t.push(r)}),i=0;i<$widget.hoveredElements.length;i++)f=$widget.hoveredElements[i],-1==$.inArray(f,t)&&$(f).trigger("mouseleave");for(r=0;r<t.length;r++)e=t[r],-1==$.inArray(e,$widget.hoveredElements)&&$(e).trigger("mouseenter");$widget.hoveredElements=t})},textPluginTranslationStarted:function(){$($widget.settings._textResult,$widget.settings.container).removeClass("translateTextTemp");$(".translateProgress",this.settings.container).removeClass("hide")},textPluginTranslationFinished:function(){$(".translateProgress",$widget.settings.container).addClass("hide");$($widget.settings._textSource).length!==0&&$($widget.settings._textSource).val().length==0&&$widget.textPluginSetTempTextResult()},textPluginResultClear:function(){$widget.translatedCnt=0;$widget.textPluginSetTempText();$widget.settings._focusAfterClear&&$($widget.settings._textSource,$widget.settings.container).focus();$(".translateResultClear").addClass("hide")},textPluginInitParallelHover:function(){var t=function(){var i=$(".backGroundSource")[0],n=$(".translateTextSource")[0],t;i.scrollTop!=n.scrollTop&&(i.scrollTop=n.scrollTop);(!window.Tilde.targetScrollingTime||(new Date).getTime()-window.Tilde.targetScrollingTime>200)&&(t=$(".translateTextResult")[0],t.scrollTop!=n.scrollTop&&(window.Tilde.sourceScrollingTime=(new Date).getTime(),t.scrollTop=n.scrollTop))},i=function(){var n=$(".translateTextSource");navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Version/")>-1&&document.activeElement!=null&&document.activeElement!=document&&document.activeElement!=document.body||(!window.Tilde.sourceScrollingTime||(new Date).getTime()-window.Tilde.sourceScrollingTime>200)&&n[0].scrollTop!=this.scrollTop&&(window.Tilde.targetScrollingTime=(new Date).getTime(),n[0].scrollTop=this.scrollTop)},n=/.*Windows Phone (\d.\d).*/.exec(navigator.userAgent);if(!n||!n.length||!(n.length>1)||!(n[1]<="8.0")){$(".translateTextSource").on("scroll",t);$(".translateTextResult").on("scroll",i);navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Version/")>-1&&$(".translateContainerRight").bind("touchstart",function(){$(":focus").blur()});$(".translateTextResult").on("mouseenter mouseleave",".mt-translation",function(n){$(".hoverStyleSource").removeClass("hoverStyleSource");$(".mt-translation.hover").removeClass("hover");n.type==="mouseenter"&&($(this).addClass("hover"),$('.classMTsource[cursorId="'+$(this).attr("cursorId")+'"]').addClass("hoverStyleSource"))})}},textPluginTranslate:function(){$widget.settings._onUrlEntered&&$widget.textTranslator.checkTextForUrl();$widget.textTranslator&&$widget.textTranslator.doTranslation({translateAll:!0})},textPluginSetTempText:function(){$widget.textTranslator&&$widget.textTranslator.clearTranslation();$widget.textPluginSetTempTextResult();$widget.textPluginSetTempTextSource();$($widget.settings._textResult,$widget.settings.container).removeClass("transLimit");$(".sourceLang, .targetLang",$widget.settings.container).text("");$(".translateResultClear",$widget.settings.container).addClass("hide");$(".translateProgress",$widget.settings.container).addClass("hide");$widget.settings._useSpeakers&&$(".sourceSpeak, .targetSpeak",$widget.settings.container).addClass("hide")},textPluginSetTempTextSource:function(){$($widget.settings._textSource,$widget.settings.container).val("");$widget.settings._landingView&&$(".intro .fakeCursor",$widget.settings.container).removeClass("hide");$(".translateTextTempSourceContainer",$widget.settings.container).removeClass("hide");$(".translateTextTempSourceContainer",$widget.settings.container).html(uiResources[$widget.settings._language].sourceTextTooltip);$(".translateTextTempSourceContainer",$widget.settings.container).unbind("focus");$(".translateTextTempSourceContainer",$widget.settings.container).bind("focus",function(){$(".translateTextTempSourceContainer",$widget.settings.container).addClass("hide")});$($widget.settings._textSource,$widget.settings.container).unbind("focus");$($widget.settings._textSource,$widget.settings.container).bind("focus",function(){$widget.settings._landingView&&$(".intro .fakeCursor",$widget.settings.container).addClass("hide");$(".translateTextTempSourceContainer",$widget.settings.container).addClass("hide")})},textPluginSetTempTextResult:function(){var n,i,t;$($widget.settings._textResult,$widget.settings.container).addClass("translateTextTemp");n=uiResources[$widget.settings._language].targetTextTooltip;$widget.settings._systemSelectType==="domain"&&(i=$(".translateDomain option:selected",$widget.settings.container).text(),t=uiResources[$widget.settings._language]["DOMAIN_"+i.toUpperCase()],t!==undefined&&(n=t+"<p>"+n+"<\/p>"));$($widget.settings._textResult,$widget.settings.container).html(n).removeClass("noNetwork")},textPluginSpeak:function(n,t){$('audio[id="'+n+'"] source').attr("src",$widget.settings._ttsUrl+"?text="+t.substring(0,144));var i=document.getElementById(n);i.paused?(i.load(),i.play()):i.pause()}});Tilde.TranslatorWidget.prototype.pluginInitializers.push(Tilde.TranslatorWidget.prototype.textPluginInit);Tilde.TextTranslator=function(n){this.init(n)};Tilde.TextTranslator.prototype={options:null,pta:null,timeoutParagraph:null,timeoutText:null,translationInProgress:!1,init:function(n){var t,i,r;typeof n=="undefined"&&alert('no options specified for "Tilde.TextTranslator"');this.options=n;t=new Tilde.ProgressiveTextAreaOptions;t.directCompare=!1;t.textAreaSelector=n._textSource;t.onNewParagraph=$.proxy(this.onNewParagraph,this);t.onTextChanged=$.proxy(this.onTextChanged,this);t.onTextInput=$.proxy(this.onTextInput,this);this.options._focusAfterLoad&&(t.onTextChangedWithoutDelay=$.proxy(function(){$(this.options._textSource).val().length>0&&$(".translateTextTempSourceContainer",this.options.container).addClass("hide")},this));this.options._onScrollBarWidthChanged&&($(window).resize(this.checkScrollbarWidth),i=this,t.onTextChangedWithoutDelay&&(r=t.onTextChangedWithoutDelay,t.onTextChangedWithoutDelay=$.proxy(function(){r();window.setTimeout(i.checkScrollbarWidth,0)},this)));t.onBackgroundHover=this.options.onBackgroundHover;this.pta=new Tilde.ProgressiveTextArea(t)},setSystem:function(n){this.options.translatorSystem=n},setTargetText:function(n){$(this.options._textResult).html(n)},clearTranslation:function(){this.setSourceText("")},onNewParagraph:function(){typeof this.timeoutParagraph!="undefined"&&this.timeoutParagraph!=null&&(clearTimeout(this.timeoutParagraph),this.timeoutParagraph=null);typeof this.timeoutText!="undefined"&&this.timeoutText!=null&&(clearTimeout(this.timeoutText),this.timeoutText=null);$.proxy(this.onNewParagraphWork,this)()},onTextChanged:function(){typeof this.timeoutText!="undefined"&&this.timeoutText!=null&&(clearTimeout(this.timeoutText),this.timeoutText=null);this.timeoutText=setTimeout($.proxy(this.onNewParagraphWork,this),250)},onTextInput:function(n){this.options._onTextInput&&this.options._onTextInput(n)},onBackgroundHover:function(n,t){var i=this.obj,e=typeof n=="undefined"?$(".backGroundSource").html(""):null,f,r,u;do if(i==null){$(".backGroundSource").append($("<br/>"));break}else(typeof n=="undefined"||i.id==n)&&(f=i.string,r=null,typeof n=="undefined"?(r=$("<div><\/div>",{id:"source-mt-"+i.id,cursorId:i.id,"class":"classMTsource"+(i.latest?" latestHighlight":"")}),r.appendTo(e)):(r=$("#source-mt-"+n),r.length==0&&(r=$("<div><\/div>",{id:"source-mt-"+i.id,cursorId:i.id,"class":"classMTsource"+(i.latest?" latestHighlight":"")}),t?r.insertAfter($("#source-mt-"+t)):r.appendTo($(".backGroundSource"))),r.empty()),f.replace(/\s/g,"").length==0?r.html("<br />"):(u=i.translation,$widget.settings._enableParallelHover&&u&&u.originalSentenceRanges&&u.sourceWordRanges&&u.phraseAlignment&&u.confidentWordAlignment?$widget.textTranslator.drawSentencePhraseWordTags(r,f,i.id,u.sourceWordRanges,u.originalSentenceRanges,u.phraseAlignment,u.confidentWordAlignment,0):r.text(f))),i=i.child;while(1);$(".translateTextSource").trigger("scroll")},clearAlltimeouts:function(){typeof this.timeoutText!="undefined"&&this.timeoutText!=null&&(clearTimeout(this.timeoutText),this.timeoutText=null);typeof this.timeoutParagraph!="undefined"&&this.timeoutParagraph!=null&&(clearTimeout(this.timeoutParagraph),this.timeoutParagraph=null)},onNewParagraphWork:function(){var n=this.pta.obj;do if(n.changed)n.translation=n.string,n.changed=!1,n.translated=!1,n.translating&&(n.retranslate=!0);else if(n=n.child,n==null)break;while(1);this.redrawResult();$widget.settings._onUrlEntered&&$widget.textTranslator.checkTextForUrl();this.doTranslation({translateAll:$widget.settings._translateAll})},previousScrollBarWidth:0,checkScrollbarWidth:function(){var t=$($widget.settings._textSource)[0],n;t!==undefined&&(n=t.offsetWidth-t.clientWidth,this.previousScrollBarWidth!=n&&(window.setTimeout(function(){$(".translateTextSource").trigger("scroll")},50),$widget.settings._onScrollBarWidthChanged(n),this.previousScrollBarWidth=n))},redrawResult:function(){var n=this.pta.obj,i,r;$(this.options._textResult).html("");$(".backGroundSource .selected").removeClass("selected");do if(n!=null){i=n.translation;translationData=null;n.translation.translation!==undefined&&(i=n.translation.translation,translationData=n.translation);var u=n.translated||i.replace(/\s/g,"").length==0,f=i.replace(/\s/g,"").length==0,t=$("<p><\/p>",{cursorId:n.id,"class":"mt-translation","aria-haspopup":"true",id:"mt-result-"+n.id});f?t.append($("<br />")):$widget.settings._enableParallelHover&&translationData&&translationData.translationSentenceRanges&&translationData.targetWordRanges&&translationData.phraseAlignment&&translationData.confidentWordAlignment?this.drawSentencePhraseWordTags(t,i,n.id,translationData.targetWordRanges,translationData.translationSentenceRanges,translationData.phraseAlignment,translationData.confidentWordAlignment,1):t.text(i);$(this.options._textResult).append(t);n.scroll!=null&&this.options.scrollToTranslated&&($(this.options._textResult)[0].scrollTop=t[0].offsetTop-$(this.options._textResult).height()/2,n.scroll=null);n.latest!=null&&this.options._highlightTranslated&&($('.mt-translation[cursorId="'+n.id+'"]').addClass("latestHighlight"),$('.classMTsource[cursorId="'+n.id+'"]').addClass("latestHighlight"),r=n.id,setTimeout($.proxy(function(){this.latest=null;$('.mt-translation[cursorId="'+r+'"]').removeClass("latestHighlight");$('.classMTsource[cursorId="'+r+'"]').removeClass("latestHighlight")},n),this.options._highlightTranslatedTimeout));u?t.removeAttr("translationProgress"):t.attr("translationProgress","true");n=n.child}else break;while(1);this.options._onScrollBarWidthChanged&&this.checkScrollbarWidth()},highlightMouseEnter:function(){for(var t=$(this).attr("class").split(" "),i=[],r=[],n=1;n<t.length;n++)t[n]&&t[n]!="hover"&&t[n]!="highlight-sibling"&&!t[n].indexOf("sibling")==0&&i.push("."+t[n]),t[n]&&t[n].indexOf("sibling")==0&&r.push("."+t[n].replace("sibling","word"));i.length>0&&$(i.join(", ")).addClass("hover");r.length>0&&$(r.join(", "),$(this).parent().parent()).addClass("highlight-sibling")},highlightMouseLeave:function(){for(var t=$(this).attr("class").split(" "),i=[],r=[],n=1;n<t.length;n++)t[n]&&t[n]!="hover"&&t[n]!="highlight-sibling"&&!t[n].indexOf("sibling")==0&&i.push("."+t[n]),t[n]&&t[n].indexOf("sibling")==0&&r.push("."+t[n].replace("sibling","word"));i.length>0&&$(i.join(", ")).removeClass("hover");r.length>0&&$(r.join(", "),$(this).parent().parent()).removeClass("highlight-sibling")},highlightMouseEnterWithoutBubble:function(n){n.stopPropagation();$.proxy($widget.textTranslator.highlightMouseEnter,this)(n)},highlightMouseLeaveWithoutBubble:function(n){n.stopPropagation();$.proxy($widget.textTranslator.highlightMouseLeave,this)(n)},translationSentenceClicked:function(){$(this).hasClass("selected")?($(this).removeClass("selected"),$(".backGroundSource .sentence."+$(this).attr("class").split(" ")[1]).removeClass("selected")):($(".backGroundSource .sentence.selected").removeClass("selected"),$(".translateTextResult .sentence.selected").removeClass("selected"),$(this).addClass("selected"),$(".backGroundSource .sentence."+$(this).attr("class").split(" ")[1]).addClass("selected"))},drawSentencePhraseWordTags:function(n,t,i,r,u,f,e,o){var s,h,a,c,l;for(o==0&&(sortedPhraseAlignment=f.slice(),sortedPhraseAlignment.sort(function(n,t){return n[0][0]-t[0][0]}),f=sortedPhraseAlignment),lastRangeEnd=0,phraseIndex=-1,phraseHtml=null,sentenceIndex=-1,sentenceHtml=null,s=0;s<r.length;s++){for(h=null,lastRangeEnd<r[s][0]&&(h=document.createTextNode(t.substring(lastRangeEnd,r[s][0]))),lastRangeEnd=r[s][1],phraseIndex>=0&&$.inArray(s,f[phraseIndex][o])>-1?h!==null&&($.trim(h.nodeValue)==""?phraseHtml.append(h):(sentenceHtml.append(phraseHtml),sentenceHtml.append(h),phraseHtml=$("<span><\/span>",{"class":"phrase phrase-"+i+"-"+f[phraseIndex][0].join("-")+"-"+f[phraseIndex][1].join("-")}),phraseHtml.hover(o==1?this.highlightMouseEnter:this.highlightMouseEnterWithoutBubble,o==1?this.highlightMouseLeave:this.highlightMouseLeaveWithoutBubble))):(phraseHtml&&sentenceHtml.append(phraseHtml),h!==null&&sentenceIndex>=0&&r[s][0]<=u[sentenceIndex][0]+u[sentenceIndex][1]&&sentenceHtml.append(h),phraseIndex+=1,phraseHtml=$("<span><\/span>",{"class":"phrase phrase-"+i+"-"+(f.length>0?f[phraseIndex][0].join("-")+"-"+f[phraseIndex][1].join("-"):"0")}),phraseHtml.hover(o==1?this.highlightMouseEnter:this.highlightMouseEnterWithoutBubble,o==1?this.highlightMouseLeave:this.highlightMouseLeaveWithoutBubble)),(sentenceIndex<0||r[s][0]>u[sentenceIndex][0]+u[sentenceIndex][1])&&(sentenceHtml&&n.append(sentenceHtml),h!==null&&n.append(h),sentenceIndex+=1,sentenceHtml=$("<span><\/span>",{"class":"sentence sentence-"+i+"-"+sentenceIndex}),sentenceHtml.hover(o==1?this.highlightMouseEnter:this.highlightMouseEnterWithoutBubble,o==1?this.highlightMouseLeave:this.highlightMouseLeaveWithoutBubble),o==1&&sentenceHtml.click(this.translationSentenceClicked)),a=[],c=0;c<e.length;c++)if(e[c][o]==s)for(a.push("word-"+i+"-"+e[c][0]+"-"+e[c][1]),l=0;l<e.length;l++)e[l][o==1?0:1]==e[c][o==1?0:1]&&l!=c&&a.push("sibling-"+i+"-"+e[l][0]+"-"+e[l][1]);wordHtml=$("<span><\/span>",{"class":"word "+a.join(" ")}).text(t.substring(r[s][0],r[s][1]));wordHtml.hover(o==1?this.highlightMouseEnter:this.highlightMouseEnterWithoutBubble,o==1?this.highlightMouseLeave:this.highlightMouseLeaveWithoutBubble);phraseHtml.append(wordHtml)}phraseHtml.html()&&sentenceHtml.append(phraseHtml);sentenceHtml.html()&&n.append(sentenceHtml);lastRangeEnd<t.length&&n.append(document.createTextNode(t.substring(lastRangeEnd,t.length)))},makeAllNotTranslated:function(){var n=this.pta.obj;do if(n!=null)n.translated=!1,n.changed=!1,n.translating=!1,n.retranslate=!1,n.translation=n.string,n=n.child;else break;while(1);this.redrawResult()},setSourceText:function(n){this.setTargetText("");this.pta.setSourceText(n);this.doTranslation({translateAll:!0})},checkTextForUrl:function(){var t=$(this.options._textSource,this.options.container).val(),i=/\b((?:https?:(?:\/{1,3}|[a-z0-9%])|[a-z0-9.\-]+[.](?:com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|Ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw)\/)(?:[^\s()<>{}\[\]]+|\([^\s()]*?\([^\s()]+\)[^\s()]*?\)|\([^\s]+?\))+(?:\([^\s()]*?\([^\s()]+\)[^\s()]*?\)|\([^\s]+?\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’])|(?:[a-z0-9]+(?:[.\-][a-z0-9]+)*[.](?:com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|Ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw)\b\/?(?!@)))/gi.exec(t),n;i&&(n=i[0],n.length/$.trim(t).length>.8&&$widget.settings._onUrlEntered(n))},doTranslation:function(n){var i;if($(".editButtonContainer").addClass("hide"),$(".backGroundSource .selected").removeClass("selected"),$(".translateTextResult .selected").removeClass("selected"),this.redrawBackground(),cursor=this.pta.obj,!this.translationInProgress&&cursor&&(this.translationInProgress=!0,this.options._onTranslationStarted&&this.options._onTranslationStarted()),typeof n=="undefined"&&(n={translateAll:!1}),n.translateAll&&this.makeAllNotTranslated(),$widget.settings._useSpeakers&&($(".sourceSpeak").addClass("hide"),$widget.getActiveSystemObj()&&$(".translateTextSource").val()&&(i=$widget.getActiveSystemObj().SourceLanguage.Code,i==="lv"&&$(".sourceSpeak").removeClass("hide"))),$widget.getActiveSystemObj()!==null){var r=$widget.getActiveSystemObj().SourceLanguage.Code,u=$widget.getActiveSystemObj().TargetLanguage.Code,t=r+"-"+u;if($widget.settings._useDictionary&&(t==="en-lv"||t==="lv-en"||t==="lv-ru")&&(text=$(".translateTextSource").val().trim(),text.length>0&&text.search(/\s/g)==-1)){this.doDictionaryTranslation(r,u,cursor.string,n);return}}this.doTextTranslation(n)},doDictionaryTranslation:function(n,t,i,r){$.ajax({context:{ref:this},dataType:this.options.jsonType,type:"GET",contentType:"application/json",url:this.options._dictionaryUrl,data:{appid:this.options._appId,srcLng:n,trgLng:t,phrase:i},success:function(n){var t=n.data;t!==""?(t=t.split("SEE_FULL_ENTRY").join(uiResources[$widget.settings._language].seeFullEntry),t=t.split("<a href").join('<a target="_blank" href'),$(this.ref.options._textResult).html(t),$(".translateResultClear",$widget.settings.container).removeClass("hide"),cursor.translating=!1,cursor.translated=!0,this.ref.checkIfStoppedTranslating()):this.ref.doTextTranslation(r)},error:this.onSuccess})},checkIfStoppedTranslating:function(){var n=this.pta.obj,t=!1;do n&&(n.string!=""&&(!n.translated||n.translating)&&(t=!0),n=n.child);while(n);t||(this.translationInProgress=!1,this.options._onTranslationFinished&&this.options._onTranslationFinished(),$(".editButtonContainer").hasClass("hide")&&$(".translateTextResult p").length>0&&$(".translateTextResult p[translationprogress=true]").length==0&&$(".editButtonContainer").removeClass("hide"))},doTextTranslation:function(n){var t=null,i;do{if(i=this,cursor&&cursor.translating){window.setTimeout(function(){i.doTextTranslation(n)},100);break}if(!cursor||cursor.changed||cursor.translated&&!cursor.retranslate||cursor.translating){if(cursor==null){this.checkIfStoppedTranslating();break}t=cursor.id;cursor=cursor.child}else{if(cursor.translating=!0,cursor.retranslate=!1,$("#hidOnline").val()==="false"){this.options._onTranslationFinished&&this.options._onTranslationFinished();this.translationInProgress=!1;$($widget.settings._textResult,$widget.settings.container).text(uiResources[$widget.settings._language].noInternet).addClass("noNetwork");cursor.translating=!1;return}if($widget.settings._translationLimit!==-1&&$widget.translatedCnt>$widget.settings._translationLimit){this.options._onTranslationFinished&&this.options._onTranslationFinished();this.translationInProgress=!1;$($widget.settings._textResult,$widget.settings.container).text(uiResources[$widget.settings._language].transLimit).addClass("transLimit");cursor.translating=!1;return}if($(".translateTextTempSourceContainer").attr("data-disabled")==="true"){this.options._onTranslationFinished&&this.options._onTranslationFinished();this.translationInProgress=!1;cursor.translating=!1;return}if(this.redrawBackground(cursor.id,t),typeof cursor.translation.translation=="undefined"&&cursor.translation.replace(/\s/g,"").length==0)cursor.translated=!0,cursor.translating=!1;else{$widget.settings._focusAfterTranslate||$($widget.settings._textSource).blur();$(".translateResultClear",$widget.settings.container).removeClass("hide");$(".sourceLang",$widget.settings.container).text($(".translateSourceLang option:selected",$widget.settings.container).text());$(".targetLang",$widget.settings.container).text($(".translateTargetLang option:selected",$widget.settings.container).text());$($widget.settings._textResult,$widget.settings.container).removeClass("noNetwork");$widget.settings._landingView&&($(".fakeCursor",$widget.settings.container).addClass("hide"),$(".translateContainerRight",$widget.settings.container).removeClass("hide"),$(".translateContainerLeft, .translateContainerHeader",$widget.settings.container).removeClass("intro"));$.ajax({context:{id:cursor.id,obj:this,onAjaxError:this.options.onAjaxError},dataType:this.options.jsonType,type:"POST",contentType:"application/json",url:this.options._translationUrl,headers:$widget.getAuthHeaders(),data:JSON.stringify({appID:this.options._appId,text:cursor.string,systemID:$widget.activeSystemId,options:"widget=text,alignment,markSentences"+($widget.termCorpusId&&$widget.getSelectedTermCorpusStatus()=="Ready"?",termCorpusId="+$widget.termCorpusId:"")}),success:this.onSuccess,error:this.onSuccess});break}}}while(1)},onSuccess:function(n){var i,r,t,u,f,e;if(n.status==401&&$widget.settings._loginUrl&&(window.location=$widget.settings._loginUrl),i=this.id,r=null,typeof this.obj!="undefined"){t=this.obj.pta.obj;do if(t.id==i&&(t.translating=!1),t.id!=i||t.changed){if(r=t.id,t=t.child,t==null)break}else{t.translated=!0;t.latest=!0;t.scroll=!0;typeof n!="undefined"&&n!=null&&(!n.status||n.status==="200")&&(n.translation||n.replace)?(n.countSentences!==undefined?(f=parseInt(n.countSentences),$widget.translatedCnt+=f>0?f:1):$widget.translatedCnt++,t.translation=n,$widget.settings._useSpeakers&&($(".targetSpeak").addClass("hide"),e=$widget.getActiveSystemObj().TargetLanguage.Code,e==="lv"&&$(".targetSpeak").removeClass("hide"))):(u=!1,typeof n.responseJSON!="undefined"&&typeof n.responseJSON.ErrorCode!="undefined"&&n.responseJSON.ErrorCode==="21"&&$widget.showSystemWaking&&typeof $widget.showSystemWaking=="function"&&($widget.showSystemWaking(!1),u=!0),t.translation=u?t.translation:"{{"+t.translation+"}}");this.obj.checkIfStoppedTranslating();break}while(1);this.obj.redrawResult();this.obj.redrawBackground(i,r);this.obj.doTranslation({translateAll:!1})}},redrawBackground:function(n,t){this.options._enableParallelHover&&$.proxy(this.onBackgroundHover,this.pta)(n,t)}};Tilde.ProgressiveTextAreaElement=function(){};Tilde.ProgressiveTextAreaElement.prototype={start:function(){var n=this,t=0;do if(n.parent!=null)n=n.parent,t+=n.string.length+1;else break;while(1);return t},string:"",end:function(){return this.start()+this.string.length},child:null,parent:null,changed:!0,translation:"",translated:!1,translating:!1,retranslate:!1,latest:null,scroll:null,id:0,copy:function(n){var t=new Tilde.ProgressiveTextAreaElement,i;return typeof n=="undefined"&&(n=this),t.string=n.string,t.id=n.id,t.changed=n.changed,t.translated=n.translated,t.translating=n.translating,t.retranslate=n.retranslate,i=null,n.child!=null&&(i=n.child.copy()),i!=null&&(t.child=i,i.parent=t),t}};Tilde.ProgressiveTextAreaOptions=function(){};Tilde.ProgressiveTextAreaOptions.prototype={textAreaSelector:"",directCompare:!1,onTextInput:null,onTextChanged:null,onNewParagraph:null,onBackgroundHover:null};Tilde.ProgressiveTextArea=function(n){this.init(n)};Tilde.ProgressiveTextArea.prototype={NEW_LINE:"<BREAK>",obj:null,objID:0,oldString:"",options:new Tilde.ProgressiveTextAreaOptions,init:function(n){typeof n=="undefined"&&alert('no options specified for "Tilde.ProgressiveTextArea"');this.options=n;this.obj=new Tilde.ProgressiveTextAreaElement;$(this.options.textAreaSelector).off("keypress keyup keydown").keypress($.proxy(this.onKeyStroke,this)).keyup($.proxy(this.onKeyStroke,this)).keydown($.proxy(this.onKeyStroke,this));$(this.options.textAreaSelector).off("paste copy cut delete input").bind("paste",$.proxy(this.onKeyStroke,this)).bind("copy",$.proxy(this.onKeyStroke,this)).bind("cut",$.proxy(this.onKeyStroke,this)).bind("delete",$.proxy(this.onKeyStroke,this)).bind("input",$.proxy(this.onKeyStroke,this))},getLastChild:function(n){return typeof n=="undefined"?this.getLastChild(this.obj):n.child==null?n:this.getLastChild(n.child)},getStringBetween:function(n,t,i){for(var u=n.length,f=0,r=i;r<n.length;r++)if(n.charAt(r)=="\n"){u=r;break}for(r=i-1;r>=0;r--)if(n.charAt(r)=="\n"){f=r+1;break}return{string:n.substring(f,u),start:f,end:u}},getCharChanged:function(n,t){var r="removed",u="",f,i;n.length<=t.length&&(r="added",n.length==t.length&&(r="changed",n==t&&(r="equal")));f=0;switch(r){case"added":for(i=0;i<t.length;i++)if(n.charAt(i)!=t.charAt(i)){u=t.charAt(i);f=i+(t.length-n.length);break}break;case"removed":case"changed":for(i=0;i<n.length;i++)if(n.charAt(i)!=t.charAt(i)){u=n.charAt(i);f=i;break}}return u=="\n"&&(u=this.NEW_LINE),{type:r,char:u,start:f}},saveState:function(){var n=this.obj;do{if(n==null)break;else n.changed=!1;n=n.child}while(1)},recalculate:function(){this.obj=this.createNewObject()},createNewObject:function(){var u=new Tilde.ProgressiveTextAreaElement,n=u,i="",t,r;$(this.options.textAreaSelector).length!==0&&(i=$(this.options.textAreaSelector).val());t=0;r=this.objID;do if(n.string=this.getStringBetween(i,"\n",t).string,n.id=++r,n.changed=!0,t=n.end()+1,t>i.length)break;else n.child=new Tilde.ProgressiveTextAreaElement,n.child.parent=n,n=n.child;while(1);return this.objID=r,u},setSourceText:function(n){this.objID=0;this.oldString="";$(this.options.textAreaSelector).val(n);this.recalculate();this.redrawBackground()},kayTimeout:null,onKeyStroke:function(n){if(this.options.onTextChangedWithoutDelay&&this.options.onTextChangedWithoutDelay(),typeof this.kayTimeout!="undefined"&&this.kayTimeout!=null&&(clearTimeout(this.kayTimeout),this.kayTimeout=null),typeof n=="undefined"||n.keyCode==13){this.onKeyStrokeSub(n);this.triggerOnTextInput(n);return}var t=n;this.kayTimeout=setTimeout($.proxy(function(){this.onKeyStrokeSub(t);this.kayTimeout=null;this.triggerOnTextInput(t)},this),2e3)},onKeyStrokeSub:function(){var n=$(this.options.textAreaSelector).val(),h=Math.abs(n.length-this.oldString.length),v=n==this.oldString,it=$(this.options.textAreaSelector).getSelection(),f=this.getCharChanged(this.oldString,n),t=it.start,b=!1,u,c,l,e,p,d,o,s,a,nt,tt;if(activeSource=this.obj,current=this.getStringBetween(n,"\n",t),n.length==0&&(this.objID=0),!v&&h<2){for(c=n.length,n.length>this.oldString.length&&(c=this.oldString.length),u=0;u<c;u++)if(n.charAt(u)!=this.oldString.charAt(u))break;for(l=1;l<c-u;l++)if(n.charAt(n.length-u)!=this.oldString.charAt(this.oldString.length-u))break;h=Math.abs(l-u)}if(!v&&h==0){e=0;f=0;do{if(n.charAt(e)!==this.oldString.charAt(e)&&(f++,(n.charAt(e)=="\n"||this.oldString.charAt(e)=="\n")&&f++,f==2)){b=!0;break}e++}while(e<n.length)}do if(this.options.directCompare||Math.abs(h)>=1||b){var i=this.obj,y=this.createNewObject(),r=y,rt=0;r=y;do{i=this.obj;do if(i!=null&&i.id!=-1&&i.string==r.string){r.id=i.id;r.changed=i.changed;r.translated=i.translated;r.translating=i.translating;r.retranslate=i.retranslate;r.translation=i.translation;i.id=-1;break}else if(i=i.child,i==null){r.id=++this.objID;r.changed=!0;rt++;break}while(1);if(r=r.child,r==null)break}while(1);this.obj=y}else switch(f.type){case"removed":if(f.char==this.NEW_LINE){if(1)do if(activeSource.end()>t){p=activeSource.string.length;activeSource=activeSource.parent;activeSource.child=activeSource.child.child;p+=activeSource.string.length;activeSource.child!=null&&(activeSource.child.parent=activeSource);(activeSource.string.length!=p||activeSource.parent==null||activeSource.string!=current.string)&&(activeSource.translated=!1,activeSource.changed=!0,activeSource.translation="",activeSource.id=++this.objID);activeSource.string=current.string;break}else activeSource=activeSource.child;while(1)}else{if(n.charAt(t)=="\n"){var k=!1,w=this.getStringBetween(n,"\n",t),ut=this.getStringBetween(n,"\n",t+1);do if(activeSource.start()==w.start){k=!(activeSource.string==w.string);break}else activeSource=activeSource.child;while(1);k?current=w:(current=ut,t++);activeSource=this.obj}else current=this.getStringBetween(n,"\n",t);do if(activeSource.start()<=t&&(activeSource.child==null||activeSource.end()>=t)){activeSource.string=current.string;activeSource.changed=!0;break}else activeSource=activeSource.child;while(1)}break;case"changed":case"added":if(f.char==this.NEW_LINE){if(n.length-1<=t){do if(activeSource.child==null){d=activeSource;activeSource.child=new Tilde.ProgressiveTextAreaElement;activeSource=activeSource.child;activeSource.parent=d;activeSource.string="";activeSource.id=++this.objID;activeSource.changed=!0;break}else activeSource=activeSource.child;while(1)}else do if(activeSource.start()<=t&&activeSource.end()>=t){o=null;s=null;n.charAt(t)=="\n"?(o=this.getStringBetween(n,"\n",t+1),s=this.getStringBetween(n,"\n",t)):(o=this.getStringBetween(n,"\n",t),s=this.getStringBetween(n,"\n",t-1));var g=null,ft=null,et=null,ot=null,st=null,ht=null;if(activeSource.string==o.string)var g=activeSource.id,ft=activeSource.changed,et=activeSource.translated,ot=activeSource.translation,st=activeSource.translating,ht=activeSource.retranslate;activeSource.string!=s.string&&(activeSource.changed=!0,activeSource.translated=!1,activeSource.translation="",activeSource.id=++this.objID);activeSource.string=s.string;a=activeSource.child;activeSource.child=new Tilde.ProgressiveTextAreaElement;activeSource.child.string!=o.string&&(activeSource.child.changed=!0,activeSource.child.translated=!1,activeSource.child.translation="",activeSource.child.id=++this.objID);g!=null?(activeSource.child.id=g,activeSource.child.changed=ft,activeSource.child.translated=et,activeSource.child.translation=ot,activeSource.child.translating=st,activeSource.child.retranslate=ht):activeSource.child.id=++this.objID;activeSource.child.string=o.string;activeSource.child.id=++this.objID;activeSource.child.parent=activeSource;activeSource.child.child=a;a!=null&&(a.parent=activeSource.child);break}else activeSource=activeSource.child;while(1)}else do if(activeSource.start()<=t&&(activeSource.child==null||activeSource.end()+1>=t)){activeSource.string=current.string;activeSource.changed=!0;break}else activeSource=activeSource.child;while(1)}while(0);nt=(this.oldString.match(/\n/g)||[]).length;tt=($(this.options.textAreaSelector).val().match(/\n/g)||[]).length;nt!=tt?this.triggerOnNewParagraph():v||this.triggerOnNewText();this.oldString=$(this.options.textAreaSelector).val();this.redrawBackground()},trimIfTooLarge:function(){var n=this.obj,t="",i=1;do if(n.child!=null){if(i++,t+=n.string+"\r\n",i>250){n.child=null;$(this.options.textAreaSelector).val(t);break}n=n.child}else break;while(1)},redrawBackground:function(n,t){this.options.onBackgroundHover&&$.proxy(this.options.onBackgroundHover,this)(n,t)},triggerOnTextInput:function(n){if(this.options.onTextInput)this.options.onTextInput(n)},triggerOnNewParagraph:function(){this.options.onNewParagraph&&this.options.onNewParagraph()},triggerOnNewText:function(){this.options.onTextChanged&&this.options.onTextChanged()}};$.extend(Tilde.TranslatorWidgetDefaultOptions,{_websiteTranslationUrl:"http://localhost:53130/Translate/WebsiteEmbedded?embeddedStyle=noUI",_debug:!1,_onWebTranslateUrlLoaded:null,_webLangAutodetect:!0});$.extend(Tilde.TranslatorWidget.prototype,{webPluginInit:function(){var i,t,n;$("#websiteFrame",$widget.settings.container).length!=0&&(i=$widget.settings._websiteTranslationUrl.indexOf("returnUrl"),t=i>-1?decodeURIComponent($widget.settings._websiteTranslationUrl.substring(i+10)):$widget.settings._websiteTranslationUrl,$widget.translateWeb_IframeSchemaPortDomain=t.substring(0,t.indexOf("/",t.indexOf("://")+3)),$widget.translateWeb_Url=$(".url",$widget.settings.container),$widget.translateWeb_Iframe=$("#websiteFrame")[0],$widget.translateWeb_IframeContainer=$("#websiteFrameContainer"),$widget.translateWeb_translateButton=$(".translateButton",$widget.settings.container),$widget.translateWeb_cancelButton=$(".cancelButton",$widget.settings.container),$widget.translateWeb_restoreButton=$(".restoreButton",$widget.settings.container),$widget.translateWeb_spinner=$(".translateProgress",$widget.settings.container),$widget.translateWeb_translating=!1,n="",$widget.settings._websiteTranslationUrl.indexOf("returnUrl")>-1?(n+=$widget.settings._websiteTranslationUrl.indexOf("%3f")>-1?"%26":"%3f",n+="appId%3d"+$widget.settings._appId,$widget.settings._clientId&&(n+="%26clientId%3d"+$widget.settings._clientId),$widget.settings._allowedSystemStatuses&&(n+="%26allowedSystemStatuses%3d"+encodeURIComponent(encodeURIComponent($widget.settings._allowedSystemStatuses))),$widget.settings._getFilteredSystems&&(n+="%26filterSystemsByAppId%3dtrue")):(n+=$widget.settings._websiteTranslationUrl.indexOf("?")>-1?"&":"?",n+="appId="+$widget.settings._appId,$widget.settings._clientId&&(n+="&clientId="+$widget.settings._clientId),$widget.settings._allowedSystemStatuses&&(n+="&allowedSystemStatuses="+encodeURIComponent($widget.settings._allowedSystemStatuses)),$widget.settings._getFilteredSystems&&(n+="&filterSystemsByAppId=true")),$widget.settings._websiteTranslationUrl+=n,$(".loadButton",$widget.settings.container).click(function(){$widget.translateWeb_loadUrl()}),$(".url",$widget.settings.container).keypress(function(n){n.which==13&&($widget.translateWeb_loadUrl(),n.preventDefault())}),$widget.translateWeb_translateButton.click(function(){if($widget.translateWeb_translateButton.attr("data-disabled")==="true")return!1;$widget.translateWeb_translateButton.attr("data-disabled",!0);$widget.disableSystemChange();var n={message:"loadUrl",url:$widget.translateWeb_Url.val(),translateAfterLoad:!0};$widget.termCorpusId&&$widget.getSelectedTermCorpusStatus()=="Ready"&&(n.termCorpusId=$widget.termCorpusId);$widget.translateWeb_sendMessageToIframe(n)}),$widget.translateWeb_cancelButton.click(function(){$widget.translateWeb_cancelButton.attr("data-disabled",!0);$widget.translateWeb_sendMessageToIframe({message:"untranslate"})}),$widget.translateWeb_restoreButton.click(function(){$widget.translateWeb_restoreButton.attr("data-disabled",!0);$widget.translateWeb_sendMessageToIframe({message:"untranslate"})}),window.removeEventListener("message",$widget.translateWeb_initIframeMsg),window.addEventListener("message",$widget.translateWeb_initIframeMsg,!1),$widget.translateWeb_IframeLastScrollWidth=null,$widget.translateWeb_IframeLastScrollHeight=null,$widget.translateWeb_resizeLayout(),$widget.settings._onWidgetLoaded=function(){window.open($widget.settings._websiteTranslationUrl,"websiteFrame")})},translateWeb_initIframeMsg:function(n){var r,i,t;if($widget.settings._debug&&console.info("Message received from iframe:"+JSON.stringify(n.data)),n.data&&n.data.message)switch(n.data.message){case"ready":if($widget.onSystemChangedHandlers.push(function(n){$widget.translateWeb_systemSuggestedByIframe==n?$widget.translateWeb_systemSuggestedByIframe=null:$widget.translateWeb_sendMessageToIframe({message:"changeSystem",systemId:$widget.activeSystemId})}),$widget.onSystemListLoadedHandlers.push(function(n){for(var i=[],t=0;t<n.length;t++)i.push({id:n[t].ID,sourceLanguage:n[t].SourceLanguage.Code,targetLanguage:n[t].TargetLanguage.Code,name:n[t].Title?n[t].Title.Text:n[t].ID,order:t});$widget.translateWeb_sendMessageToIframe({message:"setSystemList",systemList:i})}),r=[],i=$widget.settings._systems,i!=null)for(t=0;t<i.length;t++)r.push({id:i[t].ID,sourceLanguage:i[t].SourceLanguage.Code,targetLanguage:i[t].TargetLanguage.Code,name:i[t].Title?i[t].Title.Text:i[t].ID,order:t});$widget.settingSystemListForFirstTime=!0;$widget.translateWeb_sendMessageToIframe({message:"setSystemList",systemList:r});$("input.url").blur().focus();break;case"urlLoaded":$widget.translateWeb_Url.val(n.data.url);$widget.translateWeb_translateButton.removeClass("hide");$widget.translateWeb_translateButton.attr("data-disabled",!1);break;case"startedLoading":$widget.translateWeb_spinner.removeClass("hide");$widget.translateWeb_cancelButton.addClass("hide");$widget.translateWeb_restoreButton.addClass("hide");$widget.translateWeb_translateButton.addClass("hide");break;case"stoppedLoading":$widget.translateWeb_translating||($widget.enableSystemChange(),$widget.translateWeb_cancelButton.addClass("hide"),$widget.translateWeb_restoreButton.addClass("hide"),$widget.translateWeb_translateButton.removeClass("hide"),$widget.translateWeb_translateButton.attr("data-disabled",!1),$widget.translateWeb_spinner.addClass("hide"));break;case"systemChanged":$widget.settingSystemListForFirstTime?($widget.settingSystemListForFirstTime=!1,$widget.translateWeb_sendMessageToIframe({message:"changeSystem",systemId:$widget.activeSystemId})):n.data.auto&&n.data.changed&&($widget.settings._webLangAutodetect?($widget.translateWeb_systemSuggestedByIframe=n.data.systemId,$widget.setActiveSystem(n.data.systemId),$(".translateSourceLangContainer .fancy-select .trigger",$widget.settings.container).addClass("attention"),$(".translateSourceLangContainer .translateSingleSourceLang",$widget.settings.container).addClass("attention"),$(".translateSystemContainer .fancy-select .trigger",$widget.settings.container).addClass("attention"),setTimeout(function(){$(".translateSourceLangContainer .fancy-select .trigger",$widget.settings.container).removeClass("attention");$(".translateSourceLangContainer .translateSingleSourceLang",$widget.settings.container).removeClass("attention");$(".translateSystemContainer .fancy-select .trigger",$widget.settings.container).removeClass("attention")},5e3)):($widget.translateWeb_systemSuggestedByIframe=$widget.activeSystemId,$widget.translateWeb_sendMessageToIframe({message:"changeSystem",systemId:$widget.activeSystemId})));break;case"translationStarted":$widget.disableSystemChange();$widget.translateWeb_translateButton.addClass("hide");$widget.translateWeb_cancelButton.removeClass("hide");$widget.translateWeb_cancelButton.attr("data-disabled",!1);$widget.translateWeb_spinner.removeClass("hide");$widget.translateWeb_translating=!0;break;case"translationStopped":$widget.translateWeb_translating=!1;$widget.translateWeb_spinner.addClass("hide");break;case"translated":$widget.translateWeb_cancelButton.addClass("hide");$widget.translateWeb_restoreButton.removeClass("hide");$widget.translateWeb_restoreButton.attr("data-disabled",!1);break;case"untranslated":$widget.enableSystemChange();$widget.translateWeb_cancelButton.addClass("hide");$widget.translateWeb_restoreButton.addClass("hide");$widget.translateWeb_translateButton.removeClass("hide");$widget.translateWeb_translateButton.attr("data-disabled",!1);break;case"error":$widget.enableSystemChange();$widget.translateWeb_cancelButton.addClass("hide");$widget.translateWeb_restoreButton.addClass("hide");$widget.translateWeb_translateButton.removeClass("hide");$widget.translateWeb_translateButton.attr("data-disabled",!1);console&&console.error(n.data.description);n.data.shownInUI||(n.data.description.indexOf("system is starting")!==-1?$widget.showSystemWaking&&typeof $widget.showSystemWaking=="function"?$widget.showSystemWaking(!1):alert(n.data.description):alert(n.data.description));break;case"warning":console&&console.warn(n.data.description)}},translateWeb_loadUrl:function(){$widget.translateWeb_sendMessageToIframe({message:"loadUrl",url:$widget.translateWeb_Url.val(),translateAfterLoad:!1});$widget.enableSystemChange();$widget.settings._onWebTranslateUrlLoaded&&typeof $widget.settings._onWebTranslateUrlLoaded=="function"&&$widget.settings._onWebTranslateUrlLoaded($widget.translateWeb_Url.val())},translateWeb_sendMessageToIframe:function(n){$widget.settings._debug&&console.info("Message sent to iframe:"+JSON.stringify(n));try{$widget.translateWeb_Iframe.contentWindow.postMessage(n,$widget.translateWeb_IframeSchemaPortDomain)}catch(t){}},translateWeb_resizeLayout:function(){window.innerWidth<$.fn.getDefaultFontSize()[0]*50||window.innerHeight<$.fn.getDefaultFontSize()[1]*30?($widget.translateWeb_Iframe.contentWindow&&$widget.translateWeb_Iframe.contentWindow.document&&$widget.translateWeb_Iframe.contentWindow.document.body?($widget.translateWeb_IframeLastScrollWidth!=$widget.translateWeb_Iframe.contentWindow.document.body.scrollWidth||$widget.translateWeb_IframeLastScrollHeight!=$widget.translateWeb_Iframe.contentWindow.document.body.scrollHeight)&&($widget.translateWeb_IframeLastScrollWidth=$widget.translateWeb_Iframe.contentWindow.document.body.scrollWidth,$widget.translateWeb_IframeContainer.width($widget.translateWeb_IframeLastScrollWidth),$widget.translateWeb_IframeLastScrollHeight=$widget.translateWeb_Iframe.contentWindow.document.body.scrollHeight,$widget.translateWeb_IframeContainer.height($widget.translateWeb_IframeLastScrollHeight)):($widget.translateWeb_IframeContainer.css("height",""),$widget.translateWeb_IframeContainer.css("width",""),$widget.translateWeb_IframeLastScrollWidth=null,$widget.translateWeb_IframeLastScrollHeight=null),$widget.translateWeb_IframeContainer.css("position","static")):typeof $widget.translateWeb_IframeContainer!="undefined"&&($widget.translateWeb_IframeContainer.css("height",""),$widget.translateWeb_IframeContainer.css("width",""),$widget.translateWeb_IframeContainer.css("position",""));window.setTimeout($widget.translateWeb_resizeLayout,100)}});Tilde.TranslatorWidget.prototype.pluginInitializers.push(Tilde.TranslatorWidget.prototype.webPluginInit);uiResources=$.extend(!0,uiResources,{en:{E_DEFAULT_ERROR:"Error occurred while translating.",E_UNKNOWN_FILE_TYPE:"Unknown file type.",E_CANNOT_READ_FILE:"Cannot read file, file may be corrupted.",E_FAILED_IN_TRANSLATION:"Error occurred while translating.",E_FORMAT_TRACK_CHANGES:"Could not translate because track changes was turned on. Changes must first be accepted.",E_UNKNOWN_ERROR:"An unknown error occurred.",E_UNAUTHORIZED:"Document translation was denied.",W_TIMEOUT:"Some sentences are not translated, because translation took too much time.",W_SENTENCE_TOO_LONG:"Some sentences are not translated, because they are too long."},lv:{E_DEFAULT_ERROR:"Tulkojot radās kļūda.",E_UNKNOWN_FILE_TYPE:"Nezināms faila tips.",E_CANNOT_READ_FILE:"Neizdevās nolasīt faila saturu, iespējams, fails ir bojāts.",E_FAILED_IN_TRANSLATION:"Tulkojot radās kļūda.",E_FORMAT_TRACK_CHANGES:"Nevarēja iztulkot dokumentu, jo bija ieslēgta izmaiņu reģistrēšana. Vispirms apstipriniet izmaiņas.",E_UNKNOWN_ERROR:"Radās nezināma kļūda.",E_UNAUTHORIZED:"Dokumenta tulkošana tika liegta.",W_TIMEOUT:"Daži teikumi netika iztulkoti, jo tulkošana prasīja pārāk daudz laika.",W_SENTENCE_TOO_LONG:"Daži teikumi nav iztulkoti, jo tie bija pārāk gari."},ru:{E_DEFAULT_ERROR:"Во время перевода возникла ошибка.",E_UNKNOWN_FILE_TYPE:"Неизвестный тип файла.",E_CANNOT_READ_FILE:"Не удалось считать содержание файла, возможно, файл поврежден.",E_FAILED_IN_TRANSLATION:"Во время перевода возникла ошибка.",E_FORMAT_TRACK_CHANGES:"Не удалось перевести, поскольку был включен режим отслеживания исправлений. Сначала примите исправления.",E_UNKNOWN_ERROR:"Возникла неизвестная ошибка.",E_UNAUTHORIZED:"Перевод документа запрещен.",W_TIMEOUT:"Some sentences are not translated, because translation took too much time.",W_SENTENCE_TOO_LONG:"Some sentences are not translated, because they are too long."},lt:{E_DEFAULT_ERROR:"Verčiant įvyko klaida.",E_UNKNOWN_FILE_TYPE:"Nežinomas failo tipas.",E_CANNOT_READ_FILE:"Failo nuskaityti nepavyko. Jis gali būti sugadintas.",E_FAILED_IN_TRANSLATION:"Verčiant įvyko klaida.",E_FORMAT_TRACK_CHANGES:"Išversti nepavyko, nes įjungtas keitimų sekimas (angl. track changes). Pirmiausia sutikite su visais keitimais.",E_UNKNOWN_ERROR:"Aptikta nenustatyta klaida.",E_UNAUTHORIZED:"Dokumento vertimas atmestas.",W_TIMEOUT:"Kai kurie sakiniai liko neišversti, nes baigėsi vertimui skirtas laikas.",W_SENTENCE_TOO_LONG:"Kai kurie sakiniai liko neišversti, nes jie per ilgi."},fr:{E_DEFAULT_ERROR:"Une erreur est survenue pendant la traduction.",E_UNKNOWN_FILE_TYPE:"Type de fichier inconnu.",E_CANNOT_READ_FILE:"Impossible de lire le fichier, le fichier est peut-être endommagé.",E_FAILED_IN_TRANSLATION:"Une erreur est survenue pendant la traduction.",E_FORMAT_TRACK_CHANGES:"Impossible de traduire car le suivi des corrections est activé. Les corrections doivent d'abord être acceptées.",E_UNKNOWN_ERROR:"Une erreur inconnue s'est produite.",E_UNAUTHORIZED:"La traduction du document a été refusée.",W_TIMEOUT:"Some sentences are not translated, because translation timed out.",W_SENTENCE_TOO_LONG:"Some sentences are not translated, because they are too long."},et:{E_DEFAULT_ERROR:"Tõlkimisel ilmnes tõrge.",E_UNKNOWN_FILE_TYPE:"Tundmatu failitüüp.",E_CANNOT_READ_FILE:"Faili ei saa lugeda. See võib olla rikutud.",E_FAILED_IN_TRANSLATION:"Tõlkimisel ilmnes tõrge.",E_FORMAT_TRACK_CHANGES:"Tõlkida ei saanud, kuna muutuste jälitus oli sisse lülitatud. Muutused tuleb esmalt aktsepteerida.",E_UNKNOWN_ERROR:"Ilmnes tundmatu tõrge.",E_UNAUTHORIZED:"Dokumendi tõlkimine keelati.",W_TIMEOUT:"Mõni lause jäi tõlkimata, kuna tõlkimisel ilmnes ajalõpp.",W_SENTENCE_TOO_LONG:"Mõnda lauset ei tõlgitud, kuna need on liiga pikad."}});uiResources=$.extend(!0,uiResources,{en:{docTempTarget:"Machine translation results for documents help to understand the meaning of a source text, but do not equal translation by a human.",docDownload:"Download",docCancel:"Cancel",docUploadTooltip:"Upload document",docUploadMsgType:'The file "{file}" format is not recognized. Translation is supported for these document formats: {extensions}.',docUploadMsgSize:'File "{file}" is too large. Maximum file size is {sizeLimit}.',docUploadMsgEmpty:'File "{file}" is empty. Please select a file with content.',docUploadMsgWordcnt:"The maximum word count for one translation ({wordCount}) has been exceeded.",docUploadFilename:"Document title:",docUploadFilesize:"Document size:",docUploadWordcount:"Word count:",docUploadFailed:"File upload was not successful.",docTranslFailed:"Document translation failed. Please try again.",docUploadNewDoc:"Delete",docStarting:"Document translation is starting...",docPreviewError:"Could not generate a preview of the document.",docAppleLimited:"File upload on iOS devices is limited.",docTranslInProgress:"Document translation is in progress. If you leave the page, the translation will be lost.",docSupportedTypes:"Currently the system supports {extensions} file formats. UTF-8 or UTF-16 coding required.",docLimit:'Please be informed that only first {limit} segments of each document will be translated for you as a DEMO user. We kindly invite you to contact us <a href="mailto:mt@tilde.com">mt@tilde.com<\/a> to get full access',advancedOptions:"Options▾"},lv:{docTempTarget:"Dokumentu mašīntulkošanas rezultāti ļauj saprast teksta nozīmi, bet nevar aizstāt cilvēka radītu tulkojumu.",docDownload:"Atvērt",docCancel:"Atcelt",docUploadTooltip:"Augšupielādēt dokumentu",docUploadMsgType:'Faila "{file}" formāts nav atpazīts. Tulkošana tiek atbalstīta šādiem dokumentu formātiem: {extensions}.',docUploadMsgSize:'Fails "{file}" ir pārāk liels. Maksimālais lielums ir {sizeLimit}.',docUploadMsgEmpty:'Fails "{file}" ir tukšs. Izvēlieties failu, kurā ir saturs.',docUploadMsgWordcnt:"Ir pārsniegts vienam tulkojumam pieejamais vārdu skaits ({wordCount}), tādēļ dokuments tiks iztulkots daļēji. Pilnam tulkojumam, lūdzu, sadaliet tekstu vairākos dokumentos.",docUploadFilename:"Dokumenta nosaukums:",docUploadFilesize:"Dokumenta lielums:",docUploadWordcount:"Vārdu skaits:",docUploadFailed:"Neizdevās ielādēt failu.",docUploadNewDoc:"Izdzēst",docStarting:"Tiek sākta dokumenta tulkošana...",docPreviewError:"Neizdevās izveidot dokumenta priekšskatījumu.",docAppleLimited:"iOS iekārtās failu augšupielāde ir ierobežota.",docTranslInProgress:"Patreiz notiek dokumenta tulkošana. Pametot lapu, tulkojums tiks pazaudēts.",docSupportedTypes:"Tiek atbalstīti šādi dokumentu formāti: {extensions}. Nepieciešams UTF-8 vai UTF-16 kodējums."},ru:{docTempTarget:"Результаты машинного перевода документов позволяют понять значение текста, но не позволяют заменить сделанный человеком перевод.",docDownload:"Открыть",docCancel:"Отменить",docUploadTooltip:"Загрузить документ",docUploadMsgType:'Формат файла "{file}" не опознан. Перевод поддерживается для следующих форматов документов: {extensions}.',docUploadMsgSize:'Файл "{file}" слишком большой. Максимальный размер: {sizeLimit}.',docUploadMsgEmpty:'Файл "{file}" пустой. Выберите файл с содержимым.',docUploadMsgWordcnt:"Превышено количество слов, доступное для одного файла ({wordCount}).",docUploadFilename:"Название документа:",docUploadFilesize:"Размер документа:",docUploadWordcount:"Количество слов:",docUploadFailed:"Файл не удалось загрузить.",docUploadNewDoc:"Удалить",docStarting:"Начат перевод документа...",docPreviewError:"Не удалось создать предварительный просмотр документа.",docAppleLimited:"Загрузка файла на устройствах IOS ограничено.",docTranslInProgress:"Перевод документов в процессе. Если вы уйдете со страницы, перевод будет потерян.",docSupportedTypes:"Currently the system supports {extensions} file formats. UTF-8 or UTF-16 coding required."},lt:{docTempTarget:"Dokumentų mašininio vertimo rezultatai padeda suprasti originalo teksto prasmę, tačiau jo kokybės negalima lyginti su žmonių atliekamu vertimu.",docDownload:"Atidaryti",docCancel:"Atšaukti",docUploadTooltip:"Įkelti dokumentą",docUploadMsgType:"Failo „{file}“ formatas neatpažintas. Atliekamas tik šių dokumentų formatų vertimas: {extensions}.",docUploadMsgSize:"Failas „{file}“ yra per didelis. Maksimalus leistinas failo dydis: {sizeLimit}.",docUploadMsgEmpty:"Failas „{file}“ yra tuščias. Pasirinkite failą su turiniu.",docUploadMsgWordcnt:"Viršytas maksimalus vieno vertimo žodžių skaičius ({wordCount}).",docUploadFilename:"Document title:",docUploadFilesize:"Document size:",docUploadWordcount:"Word count:",docUploadFailed:"Failo įkelti nepavyko.",docTranslFailed:"Document translation failed. Please try again.",docUploadNewDoc:"Ištrinti",docStarting:"Pradedamas dokumento vertimas...",docPreviewError:"Dokumento peržiūros sugeneruoti nepavyko.",docAppleLimited:"Failų įkėlimas iOS įrenginiuose yra apribotas.",docTranslInProgress:"Dokumentas verčiamas. Jei uždarysite šį puslapį, vertimas bus prarastas.",docSupportedTypes:"Šiuo metu sistema palaiko {extensions} failų formatus. Būtinas UTF-8 arba UTF-16 kodavimas."},fr:{docTempTarget:"Les résultats de la traduction automatique de documents aident à comprendre le sens d'un texte source, mais ils ne sont pas équivalents à une traduction humaine.",docDownload:"Ouvrir",docCancel:"Annuler",docUploadTooltip:"Charger le document",docUploadMsgType:'Le format du fichier "{file}" n\'est pas reconnu. La traduction est prise en charge pour les formats de document suivants : {extensions}.',docUploadMsgSize:'Le fichier "{file}" est trop grand. La taille maximum du fichier est de {sizeLimit}.',docUploadMsgEmpty:'Le fichier "{file}" est vide. Veuillez sélectionner un fichier avec contenu.',docUploadMsgWordcnt:"Le nombre maximum de mots pour une traduction ({wordCount}) a été dépassé.",docUploadFilename:"Document title:",docUploadFilesize:"Document size:",docUploadWordcount:"Word count:",docUploadFailed:"Failo įkelti nepavyko.",docTranslFailed:"Échec du chargement du fichier.",docUploadNewDoc:"Supprimer",docStarting:"La traduction du document démarre…",docPreviewError:"Impossible de générer un aperçu du document.",docAppleLimited:"Le chargement de fichiers sur les appareils iOS est limité.",docTranslInProgress:"La traduction du document est en cours. Si vous quittez la page, la traduction sera perdue.",docSupportedTypes:"Currently the system supports {extensions} file formats. UTF-8 or UTF-16 coding required."},et:{docTempTarget:"Masintõlge aitab teksti sisust aru saada, kuid ei asenda inimtõlget.",docDownload:"Laadi alla",docCancel:"Tühista",docUploadTooltip:"Laadi dokument üles",docUploadMsgType:'Faili "{file}" vorming on tundmatu. Tõlketugi on olemas järgmiste failivormingute puhul: {extensions}.',docUploadMsgSize:'Fail "{file}" on liiga suur. Faili lubatud maksimummaht on {sizeLimit}.',docUploadMsgEmpty:'Fail "{file}" on tühi. Valige andmeid sisaldav fail.',docUploadMsgWordcnt:"Ühe tõlke suurim lubatud sõnaarv ({wordCount}) on ületatud.",docUploadFilename:"Dokumendi pealkiri:",docUploadFilesize:"Dokumendi suurus:",docUploadWordcount:"Sõnade arv:",docUploadFailed:"Faili üleslaadimine nurjus.",docTranslFailed:"Dokumendi tõlkimine nurjus. Proovige uuesti.",docUploadNewDoc:"Kustuta",docStarting:"Algab dokumendi tõlkimine...",docPreviewError:"Dokumendi eelvaate loomine nurjus.",docAppleLimited:"Failide üleslaadimine iOS-seadmetest on piiratud.",docTranslInProgress:"Dokumendi tõlkimine on pooleli. Kui lehelt lahkute, läheb tõlge kaotsi.",docSupportedTypes:"Tõlketugi on olemas järgmiste failivormingute puhul: {extensions}. Vajalik on kodeering UTF-8 või UTF-16."}});uiResources=$.extend(!0,uiResources,{en:{clearTranslation:"Clear",sourceTextTooltip:"Enter the text you want to translate",noInternet:"No internet connection",targetTextTooltip:"Machine translation results help to understand the meaning of a source text, but do not equal translation by a human.",transLimit:"You have reached the maximum word limit for one translation request. To translate the untranslated part please make another request.",seeFullEntry:"Read complete entry",speaker:"Listen",editButton:"Edit",editButtonTooltip:"Suggest a better translation",translationEditSave:"Contribute",translationEditClose:"Close",translationEditOriginal:"Original sentence",translationEditTranslation:"Translation",translationEditDescription:"Your translation suggestion will be used to improve the quality of machine translation."},fr:{clearTranslation:"Effacer",sourceTextTooltip:"Entrez le texte que vous voulez traduire",noInternet:"No internet connection",targetTextTooltip:"Les résultats de traduction électronique aident à comprendre le sens du texte original mais ils ne remplacent pas un traducteur humain.",transLimit:"Ir sasniegts maksimālais vārdu limits vienā tulkošanas pieprasījumā. Lūdzu, sadaliet tekstu mazākos gabalos.",seeFullEntry:"Read complete entry",speaker:"Listen",editButton:"Edit",translationEditSave:"Contribute",translationEditClose:"Close",translationEditOriginal:"Original sentence",translationEditTranslation:"Translation",translationEditDescription:"Your translation suggestion will be used to improve the quality of machine translation."},lt:{clearTranslation:"Ištrinti",sourceTextTooltip:"Įveskite norimą versti tekstą",noInternet:"No internet connection",targetTextTooltip:"Automatinio vertimo rezultatai padeda suprasti teksto prasmę, tačiau nepakeičia žmonių kuriamų vertimų.",transLimit:"Pasiekėte vienos vertimo užklausos leistiną žodžių ribą. Jei norite versti neišverstą dalį, pateikite kitą užklausą.",seeFullEntry:"Read complete entry",speaker:"Klausykite",editButton:"Redaguoti",editButtonTooltip:"Siūlyti vertimą",translationEditSave:"Siūlyti",translationEditClose:"Uždaryti",translationEditOriginal:"Originalo sakinys",translationEditTranslation:"Vertimas",translationEditDescription:"Jūsų vertimo pasiūlymą naudosime, kad pagerintume mašininio vertimo kokybę."},lv:{clearTranslation:"Notīrīt",sourceTextTooltip:"Ievadiet tulkojamo tekstu",noInternet:"No internet connection",targetTextTooltip:"Mašīntulkošanas rezultāti ļauj saprast teksta nozīmi, bet nevar aizstāt cilvēka radītu tulkojumu.",transLimit:"You have reached the maximum word limit for one translation request. To translate the untranslated part please make another request.",seeFullEntry:"Skatīt pilnu šķirkli",speaker:"Klausīties",editButton:"Rediģēt",editButtonTooltip:"Ieteikt labāku tulkojumu",translationEditSave:"Ieteikt",translationEditClose:"Aizvērt",translationEditOriginal:"Sākotnējais teikums",translationEditTranslation:"Tulkojums",translationEditDescription:"Jūsu tulkojuma ieteikums tiks izmantots tulkošanas kvalitātes uzlabošanai."},ru:{clearTranslation:"Очистить",sourceTextTooltip:"Введите текст для перевода",noInternet:"No internet connection",targetTextTooltip:"Результаты машинного перевода позволяют понять значение текста, но не позволяют заменить сделанный человеком перевод.",transLimit:"You have reached the maximum word limit for one translation request. To translate the untranslated part please make another request.",seeFullEntry:"Read complete entry",speaker:"Listen",editButton:"Edit",translationEditSave:"Contribute",translationEditClose:"Close",translationEditOriginal:"Original sentence",translationEditTranslation:"Translation",translationEditDescription:"Your translation suggestion will be used to improve the quality of machine translation."},et:{clearTranslation:"Tühjenda",sourceTextTooltip:"Sisesta tekst, mida soovid tõlkida...",noInternet:"No internet connection",targetTextTooltip:"Masintõlge aitab teksti sisust aru saada, kuid ei asenda inimtõlget.",transLimit:"Ühe tõlketaotluse suurim sõnaarv on täis. Tõlkimata osa tõlkimiseks esitage uus taotlus.",seeFullEntry:"Read complete entry",speaker:"Kuulake",editButton:"Redigeeri",editButtonTooltip:"Soovita tõlget",translationEditSave:"Andke oma panus",translationEditClose:"Sule",translationEditOriginal:"Algne lause",translationEditTranslation:"Tõlge",translationEditDescription:"Teie tõlkesoovitust kasutatakse masintõlke kvaliteedi parandamiseks."}});uiResources=$.extend(!0,uiResources,{en:{address:"Address",loadButton:"Load webpage",cancelButton:"Cancel",restoreButton:"Restore"},lv:{address:"Adrese",loadButton:"Ielādēt lapu",cancelButton:"Atcelt",restoreButton:"Atjaunot"},lt:{address:"Adresas",loadButton:"Įkelti svetainę",cancelButton:"Atšaukti",restoreButton:"Atkurti"},et:{address:"Aadress",loadButton:"Laadi veebileht",cancelButton:"Tühista",restoreButton:"Taasta"}});